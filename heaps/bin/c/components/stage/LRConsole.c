// Generated by HLC 4.1.5 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <components/stage/LRConsole.h>
#include <h2d/Font.h>
#include <h2d/Console.h>
void h2d_Console_new(h2d__Console,h2d__Font,h2d__Object);
extern h2d__$Console g$_h2d_Console;
int h2d_Text_set_textColor(h2d__Text,int);
#include <hxd/Event.h>
#include <hxd/EventKind.h>
void components_stage_LRConsole_show(components__stage__LRConsole);
bool h2d_Object_set_visible(h2d__Object,bool);
extern String s$;
String h2d_TextInput_set_text(h2d__TextInput,String);
void h2d_TextInput_focus(h2d__TextInput);

void components_stage_LRConsole_new(components__stage__LRConsole r0,h2d__Font r1,h2d__Object r2) {
	h2d__$Console r5;
	double r4;
	h2d__TextInput r7;
	int r6;
	h2d_Console_new(((h2d__Console)r0),r1,r2);
	r4 = 30.;
	r5 = (h2d__$Console)g$_h2d_Console;
	r5->HIDE_LOG_TIMEOUT = r4;
	r7 = r0->tf;
	if( r7 == NULL ) hl_null_access();
	r6 = -15658735;
	r6 = h2d_Text_set_textColor(((h2d__Text)r7),r6);
	return;
}

void components_stage_LRConsole_onEvent(components__stage__LRConsole r0,hxd__Event r1) {
	venum *r4;
	bool r6;
	h2d__Bitmap r7;
	int r3, r5;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->kind;
	if( r4 == NULL ) hl_null_access();
	r3 = HL__ENUM_INDEX__(r4);
	r5 = 11;
	if( r3 != r5 ) goto label$a3ed764_2_14;
	r3 = r1->charCode;
	r5 = r0->shortKeyChar;
	if( r3 != r5 ) goto label$a3ed764_2_14;
	r7 = r0->bg;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->visible;
	if( r6 ) goto label$a3ed764_2_14;
	components_stage_LRConsole_show(r0);
	label$a3ed764_2_14:
	return;
}

void components_stage_LRConsole_show(components__stage__LRConsole r0) {
	String r3;
	bool r1;
	h2d__HtmlText r8;
	h2d__Bitmap r2;
	h2d__TextInput r4, r7;
	int r6;
	r2 = r0->bg;
	if( r2 == NULL ) hl_null_access();
	r1 = true;
	r1 = h2d_Object_set_visible(((h2d__Object)r2),r1);
	r4 = r0->tf;
	if( r4 == NULL ) hl_null_access();
	r3 = (String)s$;
	r3 = h2d_TextInput_set_text(r4,r3);
	r4 = r0->tf;
	if( r4 == NULL ) hl_null_access();
	h2d_TextInput_focus(r4);
	r4 = r0->tf;
	if( r4 == NULL ) hl_null_access();
	r7 = r0->tf;
	if( r7 == NULL ) hl_null_access();
	r3 = r7->text;
	if( r3 == NULL ) hl_null_access();
	r6 = r3->length;
	r4->cursorIndex = r6;
	r2 = r0->bg;
	if( r2 == NULL ) hl_null_access();
	r1 = true;
	r1 = h2d_Object_set_visible(((h2d__Object)r2),r1);
	r8 = r0->logTxt;
	if( r8 == NULL ) hl_null_access();
	r1 = true;
	r1 = h2d_Object_set_visible(((h2d__Object)r8),r1);
	return;
}

