// Generated by HLC 4.1.5 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <components/stage/Canvas.h>
#include <haxe/ds/StringMap.h>
#include <components/managers/Riders.h>
#include <_std/Main.h>
#include <hxlr/rider/RiderBase.h>
extern $Main g$_Main;
vvirtual* haxe_ds_StringMap_iterator(haxe__ds__StringMap);
extern hl_type t$vrt_6dd9082;
extern hl_type t$fun_bf7849e;
extern hl_type t$fun_8ae12a9;
double h2d_Scene_get_mouseX(h2d__Scene);
double h2d_Scene_get_mouseY(h2d__Scene);
double Math_max(double,double);
double Math_min(double,double);
#include <hxlr/lines/LineBase.h>
void h2d_Graphics_clear(h2d__Graphics);
void h2d_Graphics_lineStyle(h2d__Graphics,double*,int*,double*);
void h2d_Graphics_flush(h2d__Graphics);
void h2d_Graphics_addVertex(h2d__Graphics,double,double,double,double,double,double,double*,double*);
void h2d_Graphics_drawCircle(h2d__Graphics,double,double,double,int*);
#include <hxlr/lines/Floor.h>
#include <hxlr/lines/Accel.h>
#include <hxlr/lines/Scenery.h>
#include <hxlr/engine/Grid.h>
extern hl_type t$_i32;
extern hl_type t$hxlr_lines_Floor;
extern hl_type t$h2d_col_Point;
void h2d_col_Point_new(h2d__col__Point,double*,double*);
void hxlr_lines_Floor_new(hxlr__lines__Floor,h2d__col__Point,h2d__col__Point,bool);
extern hl_type t$hxlr_lines_Accel;
void hxlr_lines_Accel_new(hxlr__lines__Accel,h2d__col__Point,h2d__col__Point,bool);
extern hl_type t$hxlr_lines_Scenery;
void hxlr_lines_Scenery_new(hxlr__lines__Scenery,h2d__col__Point,h2d__col__Point,bool);
void hxlr_lines_LineBase_setLim(hxlr__lines__LineBase,int);
void hxlr_engine_Grid_register(hxlr__engine__Grid,hxlr__lines__LineBase);
#include <components/stage/LRConsole.h>
bool h2d_Object_set_visible(h2d__Object,bool);
extern String s$Draw_mode_set_to_Edit;
#include <h2d/Console.h>
void h2d_Console_log(h2d__Console,String,vdynamic*);
extern String s$Draw_mode_set_to_Playback;
extern String s$Draw_mode_set_to_No_Scenery_Edit;
extern String s$cb653d7;
extern String s$2504e23;
extern String s$83a17f8;
extern venum* g$6537d82;
void h2d_Scene_new(h2d__Scene);
extern hl_type t$h2d_Graphics;
void h2d_Graphics_new(h2d__Graphics,h2d__Object);
extern hl_type t$h2d_Object;
void h2d_Object_new(h2d__Object,h2d__Object);

void components_stage_Canvas_drawRiders(components__stage__Canvas r0) {
	components__managers__Riders r3;
	haxe__ds__StringMap r2;
	vvirtual *r1, *r5;
	bool r7;
	hxlr__rider__RiderBase r8;
	$Main r4;
	r4 = ($Main)g$_Main;
	r3 = r4->riders;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->riders;
	if( r2 == NULL ) hl_null_access();
	r1 = haxe_ds_StringMap_iterator(r2);
	r5 = hl_to_virtual(&t$vrt_6dd9082,(vdynamic*)r1);
	label$ae2bdbd_1_7:
	if( r5 == NULL ) hl_null_access();
	if( hl_vfields(r5)[0] ) r7 = ((bool (*)(vdynamic*))hl_vfields(r5)[0])(r5->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r5->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r7 = (bool)ret.v.i;
	}
	if( !r7 ) goto label$ae2bdbd_1_15;
	if( hl_vfields(r5)[1] ) r8 = ((hxlr__rider__RiderBase (*)(vdynamic*))hl_vfields(r5)[1])(r5->value); else {
		r8 = (hxlr__rider__RiderBase)hl_dyn_call_obj(r5->value,&t$fun_8ae12a9,151160317/*next*/,NULL,NULL);
	}
	if( r8 == NULL ) hl_null_access();
	((void (*)(hxlr__rider__RiderBase))r8->$type->vobj_proto[2])(r8);
	goto label$ae2bdbd_1_7;
	label$ae2bdbd_1_15:
	return;
}

void components_stage_Canvas_addCanvasPosition(components__stage__Canvas r0,double r1,double r2) {
	bool r4;
	double r5;
	if( r0 == NULL ) hl_null_access();
	r4 = true;
	r0->posChanged = r4;
	r5 = r0->x;
	r5 = r5 + r1;
	r0->x = r5;
	r4 = true;
	r0->posChanged = r4;
	r5 = r0->y;
	r5 = r5 + r2;
	r0->y = r5;
	return;
}

void components_stage_Canvas_zoomCanvas(components__stage__Canvas r0,int r1) {
	bool r9;
	double r2, r4, r5, r6, r7, r10, r11, r12;
	int r8;
	r2 = r0->scaleX;
	r4 = h2d_Scene_get_mouseX(((h2d__Scene)r0));
	r5 = h2d_Scene_get_mouseY(((h2d__Scene)r0));
	r6 = r0->scaleX;
	r8 = 0;
	if( r8 >= r1 ) goto label$ae2bdbd_3_8;
	r7 = 0.82499999999999996;
	goto label$ae2bdbd_3_9;
	label$ae2bdbd_3_8:
	r7 = 1.125;
	label$ae2bdbd_3_9:
	r6 = r6 * r7;
	r7 = 0.01;
	r6 = Math_max(r6,r7);
	r7 = 100.;
	r6 = Math_min(r6,r7);
	r9 = true;
	r0->posChanged = r9;
	r0->scaleX = r6;
	r9 = true;
	r0->posChanged = r9;
	r0->scaleY = r6;
	r7 = r0->scaleX;
	if( r0 == NULL ) hl_null_access();
	r9 = true;
	r0->posChanged = r9;
	r10 = r0->x;
	r12 = r7 - r2;
	r11 = r4 * r12;
	r11 = -r11;
	r10 = r10 + r11;
	r0->x = r10;
	r9 = true;
	r0->posChanged = r9;
	r10 = r0->y;
	r12 = r7 - r2;
	r11 = r5 * r12;
	r11 = -r11;
	r10 = r10 + r11;
	r0->y = r10;
	return;
}

void components_stage_Canvas_drawPreviewLine(components__stage__Canvas r0,hxlr__lines__LineBase r1) {
	h2d__Graphics r3;
	h2d__col__Point r12;
	double r4, r7, r11, r13, r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r27, r28, r29, r30, r31, r33, r34, r35, r36, r37, r41, r42, r43, r44, r45, r46, r47, r48, r49, r51, r52, r53, r54, r55, r59, r60, r61, r62, r63, r67, r68, r69, r70, r71;
	int *r9;
	double *r8, *r10;
	int r5, r6, r26, r32, r38, r39, r40, r50, r56, r57, r58, r64, r65, r66, r72, r73;
	r3 = r0->previewLayer;
	if( r3 == NULL ) hl_null_access();
	h2d_Graphics_clear(r3);
	r4 = 0.0025000000000000001;
	r5 = 15;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->type;
	switch(r6) {
		default:
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r6 = 1;
			r7 = (double)r6;
			r8 = &r7;
			r6 = 16711680;
			r9 = &r6;
			r10 = NULL;
			h2d_Graphics_lineStyle(r3,r8,r9,r10);
			r3 = r0->previewLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r11 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r13 = r12->y;
			if( r3 == NULL ) hl_null_access();
			h2d_Graphics_flush(r3);
			r16 = r3->curR;
			r17 = r3->curG;
			r18 = r3->curB;
			r19 = r3->curA;
			r21 = r3->ma;
			r20 = r11 * r21;
			r22 = r3->mc;
			r21 = r13 * r22;
			r20 = r20 + r21;
			r21 = r3->mx;
			r20 = r20 + r21;
			r8 = &r20;
			r22 = r3->mb;
			r21 = r11 * r22;
			r23 = r3->md;
			r22 = r13 * r23;
			r21 = r21 + r22;
			r22 = r3->my;
			r21 = r21 + r22;
			r10 = &r21;
			h2d_Graphics_addVertex(r3,r11,r13,r16,r17,r18,r19,r8,r10);
			r3 = r0->previewLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r11 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r13 = r12->y;
			if( r3 == NULL ) hl_null_access();
			r16 = r3->curR;
			r17 = r3->curG;
			r18 = r3->curB;
			r19 = r3->curA;
			r23 = r3->ma;
			r22 = r11 * r23;
			r24 = r3->mc;
			r23 = r13 * r24;
			r22 = r22 + r23;
			r23 = r3->mx;
			r22 = r22 + r23;
			r8 = &r22;
			r24 = r3->mb;
			r23 = r11 * r24;
			r25 = r3->md;
			r24 = r13 * r25;
			r23 = r23 + r24;
			r24 = r3->my;
			r23 = r23 + r24;
			r10 = &r23;
			h2d_Graphics_addVertex(r3,r11,r13,r16,r17,r18,r19,r8,r10);
			goto label$ae2bdbd_4_681;
		case 0:
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r26 = 2;
			r11 = (double)r26;
			r8 = &r11;
			r26 = 26367;
			r9 = &r26;
			r10 = NULL;
			h2d_Graphics_lineStyle(r3,r8,r9,r10);
			r3 = r0->previewLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r13 = r12->x;
			r14 = r1->nx;
			r13 = r13 + r14;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->y;
			r15 = r1->ny;
			r14 = r14 + r15;
			if( r3 == NULL ) hl_null_access();
			h2d_Graphics_flush(r3);
			r17 = r3->curR;
			r18 = r3->curG;
			r19 = r3->curB;
			r24 = r3->curA;
			r27 = r3->ma;
			r25 = r13 * r27;
			r28 = r3->mc;
			r27 = r14 * r28;
			r25 = r25 + r27;
			r27 = r3->mx;
			r25 = r25 + r27;
			r8 = &r25;
			r28 = r3->mb;
			r27 = r13 * r28;
			r29 = r3->md;
			r28 = r14 * r29;
			r27 = r27 + r28;
			r28 = r3->my;
			r27 = r27 + r28;
			r10 = &r27;
			h2d_Graphics_addVertex(r3,r13,r14,r17,r18,r19,r24,r8,r10);
			r3 = r0->previewLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r13 = r12->x;
			r14 = r1->nx;
			r13 = r13 + r14;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->y;
			r15 = r1->ny;
			r14 = r14 + r15;
			if( r3 == NULL ) hl_null_access();
			r17 = r3->curR;
			r18 = r3->curG;
			r19 = r3->curB;
			r24 = r3->curA;
			r29 = r3->ma;
			r28 = r13 * r29;
			r30 = r3->mc;
			r29 = r14 * r30;
			r28 = r28 + r29;
			r29 = r3->mx;
			r28 = r28 + r29;
			r8 = &r28;
			r30 = r3->mb;
			r29 = r13 * r30;
			r31 = r3->md;
			r30 = r14 * r31;
			r29 = r29 + r30;
			r30 = r3->my;
			r29 = r29 + r30;
			r10 = &r29;
			h2d_Graphics_addVertex(r3,r13,r14,r17,r18,r19,r24,r8,r10);
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r32 = 2;
			r13 = (double)r32;
			r8 = &r13;
			r32 = 0;
			r9 = &r32;
			r10 = NULL;
			h2d_Graphics_lineStyle(r3,r8,r9,r10);
			r3 = r0->previewLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->y;
			if( r3 == NULL ) hl_null_access();
			h2d_Graphics_flush(r3);
			r18 = r3->curR;
			r19 = r3->curG;
			r24 = r3->curB;
			r30 = r3->curA;
			r33 = r3->ma;
			r31 = r14 * r33;
			r34 = r3->mc;
			r33 = r15 * r34;
			r31 = r31 + r33;
			r33 = r3->mx;
			r31 = r31 + r33;
			r8 = &r31;
			r34 = r3->mb;
			r33 = r14 * r34;
			r35 = r3->md;
			r34 = r15 * r35;
			r33 = r33 + r34;
			r34 = r3->my;
			r33 = r33 + r34;
			r10 = &r33;
			h2d_Graphics_addVertex(r3,r14,r15,r18,r19,r24,r30,r8,r10);
			r3 = r0->previewLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->y;
			if( r3 == NULL ) hl_null_access();
			r18 = r3->curR;
			r19 = r3->curG;
			r24 = r3->curB;
			r30 = r3->curA;
			r35 = r3->ma;
			r34 = r14 * r35;
			r36 = r3->mc;
			r35 = r15 * r36;
			r34 = r34 + r35;
			r35 = r3->mx;
			r34 = r34 + r35;
			r8 = &r34;
			r36 = r3->mb;
			r35 = r14 * r36;
			r37 = r3->md;
			r36 = r15 * r37;
			r35 = r35 + r36;
			r36 = r3->my;
			r35 = r35 + r36;
			r10 = &r35;
			h2d_Graphics_addVertex(r3,r14,r15,r18,r19,r24,r30,r8,r10);
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->y;
			r38 = r5;
			r9 = &r38;
			h2d_Graphics_drawCircle(r3,r14,r15,r4,r9);
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->y;
			r39 = r5;
			r9 = &r39;
			h2d_Graphics_drawCircle(r3,r14,r15,r4,r9);
			goto label$ae2bdbd_4_681;
		case 1:
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r40 = 2;
			r14 = (double)r40;
			r8 = &r14;
			r40 = 13369344;
			r9 = &r40;
			r10 = NULL;
			h2d_Graphics_lineStyle(r3,r8,r9,r10);
			r3 = r0->previewLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->x;
			r16 = r1->nx;
			r15 = r15 + r16;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->y;
			r17 = r1->ny;
			r16 = r16 + r17;
			if( r3 == NULL ) hl_null_access();
			h2d_Graphics_flush(r3);
			r19 = r3->curR;
			r24 = r3->curG;
			r30 = r3->curB;
			r36 = r3->curA;
			r41 = r3->ma;
			r37 = r15 * r41;
			r42 = r3->mc;
			r41 = r16 * r42;
			r37 = r37 + r41;
			r41 = r3->mx;
			r37 = r37 + r41;
			r8 = &r37;
			r42 = r3->mb;
			r41 = r15 * r42;
			r43 = r3->md;
			r42 = r16 * r43;
			r41 = r41 + r42;
			r42 = r3->my;
			r41 = r41 + r42;
			r10 = &r41;
			h2d_Graphics_addVertex(r3,r15,r16,r19,r24,r30,r36,r8,r10);
			r3 = r0->previewLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->x;
			r16 = r1->nx;
			r15 = r15 + r16;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->y;
			r17 = r1->ny;
			r16 = r16 + r17;
			if( r3 == NULL ) hl_null_access();
			r19 = r3->curR;
			r24 = r3->curG;
			r30 = r3->curB;
			r36 = r3->curA;
			r43 = r3->ma;
			r42 = r15 * r43;
			r44 = r3->mc;
			r43 = r16 * r44;
			r42 = r42 + r43;
			r43 = r3->mx;
			r42 = r42 + r43;
			r8 = &r42;
			r44 = r3->mb;
			r43 = r15 * r44;
			r45 = r3->md;
			r44 = r16 * r45;
			r43 = r43 + r44;
			r44 = r3->my;
			r43 = r43 + r44;
			r10 = &r43;
			h2d_Graphics_addVertex(r3,r15,r16,r19,r24,r30,r36,r8,r10);
			r3 = r0->previewLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->x;
			r16 = r1->nx;
			r17 = 4.;
			r16 = r16 * r17;
			r17 = r1->dx;
			r18 = r1->invDistance;
			r17 = r17 * r18;
			r18 = 5.;
			r17 = r17 * r18;
			r16 = r16 - r17;
			r15 = r15 + r16;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->y;
			r17 = r1->ny;
			r18 = 4.;
			r17 = r17 * r18;
			r18 = r1->dy;
			r19 = r1->invDistance;
			r18 = r18 * r19;
			r19 = 5.;
			r18 = r18 * r19;
			r17 = r17 - r18;
			r16 = r16 + r17;
			if( r3 == NULL ) hl_null_access();
			r19 = r3->curR;
			r24 = r3->curG;
			r30 = r3->curB;
			r36 = r3->curA;
			r45 = r3->ma;
			r44 = r15 * r45;
			r46 = r3->mc;
			r45 = r16 * r46;
			r44 = r44 + r45;
			r45 = r3->mx;
			r44 = r44 + r45;
			r8 = &r44;
			r46 = r3->mb;
			r45 = r15 * r46;
			r47 = r3->md;
			r46 = r16 * r47;
			r45 = r45 + r46;
			r46 = r3->my;
			r45 = r45 + r46;
			r10 = &r45;
			h2d_Graphics_addVertex(r3,r15,r16,r19,r24,r30,r36,r8,r10);
			r3 = r0->previewLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->x;
			r16 = r1->dx;
			r17 = r1->invDistance;
			r16 = r16 * r17;
			r17 = 5.;
			r16 = r16 * r17;
			r15 = r15 - r16;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->y;
			r17 = r1->dy;
			r18 = r1->invDistance;
			r17 = r17 * r18;
			r18 = 5.;
			r17 = r17 * r18;
			r16 = r16 - r17;
			if( r3 == NULL ) hl_null_access();
			r19 = r3->curR;
			r24 = r3->curG;
			r30 = r3->curB;
			r36 = r3->curA;
			r47 = r3->ma;
			r46 = r15 * r47;
			r48 = r3->mc;
			r47 = r16 * r48;
			r46 = r46 + r47;
			r47 = r3->mx;
			r46 = r46 + r47;
			r8 = &r46;
			r48 = r3->mb;
			r47 = r15 * r48;
			r49 = r3->md;
			r48 = r16 * r49;
			r47 = r47 + r48;
			r48 = r3->my;
			r47 = r47 + r48;
			r10 = &r47;
			h2d_Graphics_addVertex(r3,r15,r16,r19,r24,r30,r36,r8,r10);
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r50 = 2;
			r15 = (double)r50;
			r8 = &r15;
			r50 = 0;
			r9 = &r50;
			r10 = NULL;
			h2d_Graphics_lineStyle(r3,r8,r9,r10);
			r3 = r0->previewLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->y;
			if( r3 == NULL ) hl_null_access();
			h2d_Graphics_flush(r3);
			r24 = r3->curR;
			r30 = r3->curG;
			r36 = r3->curB;
			r48 = r3->curA;
			r51 = r3->ma;
			r49 = r16 * r51;
			r52 = r3->mc;
			r51 = r17 * r52;
			r49 = r49 + r51;
			r51 = r3->mx;
			r49 = r49 + r51;
			r8 = &r49;
			r52 = r3->mb;
			r51 = r16 * r52;
			r53 = r3->md;
			r52 = r17 * r53;
			r51 = r51 + r52;
			r52 = r3->my;
			r51 = r51 + r52;
			r10 = &r51;
			h2d_Graphics_addVertex(r3,r16,r17,r24,r30,r36,r48,r8,r10);
			r3 = r0->previewLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->y;
			if( r3 == NULL ) hl_null_access();
			r24 = r3->curR;
			r30 = r3->curG;
			r36 = r3->curB;
			r48 = r3->curA;
			r53 = r3->ma;
			r52 = r16 * r53;
			r54 = r3->mc;
			r53 = r17 * r54;
			r52 = r52 + r53;
			r53 = r3->mx;
			r52 = r52 + r53;
			r8 = &r52;
			r54 = r3->mb;
			r53 = r16 * r54;
			r55 = r3->md;
			r54 = r17 * r55;
			r53 = r53 + r54;
			r54 = r3->my;
			r53 = r53 + r54;
			r10 = &r53;
			h2d_Graphics_addVertex(r3,r16,r17,r24,r30,r36,r48,r8,r10);
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->y;
			r56 = r5;
			r9 = &r56;
			h2d_Graphics_drawCircle(r3,r16,r17,r4,r9);
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->y;
			r57 = r5;
			r9 = &r57;
			h2d_Graphics_drawCircle(r3,r16,r17,r4,r9);
			goto label$ae2bdbd_4_681;
		case 2:
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r58 = 2;
			r16 = (double)r58;
			r8 = &r16;
			r58 = 0;
			r9 = &r58;
			r10 = NULL;
			h2d_Graphics_lineStyle(r3,r8,r9,r10);
			r3 = r0->previewLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->y;
			if( r3 == NULL ) hl_null_access();
			h2d_Graphics_flush(r3);
			r30 = r3->curR;
			r36 = r3->curG;
			r48 = r3->curB;
			r54 = r3->curA;
			r59 = r3->ma;
			r55 = r17 * r59;
			r60 = r3->mc;
			r59 = r18 * r60;
			r55 = r55 + r59;
			r59 = r3->mx;
			r55 = r55 + r59;
			r8 = &r55;
			r60 = r3->mb;
			r59 = r17 * r60;
			r61 = r3->md;
			r60 = r18 * r61;
			r59 = r59 + r60;
			r60 = r3->my;
			r59 = r59 + r60;
			r10 = &r59;
			h2d_Graphics_addVertex(r3,r17,r18,r30,r36,r48,r54,r8,r10);
			r3 = r0->previewLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->y;
			if( r3 == NULL ) hl_null_access();
			r30 = r3->curR;
			r36 = r3->curG;
			r48 = r3->curB;
			r54 = r3->curA;
			r61 = r3->ma;
			r60 = r17 * r61;
			r62 = r3->mc;
			r61 = r18 * r62;
			r60 = r60 + r61;
			r61 = r3->mx;
			r60 = r60 + r61;
			r8 = &r60;
			r62 = r3->mb;
			r61 = r17 * r62;
			r63 = r3->md;
			r62 = r18 * r63;
			r61 = r61 + r62;
			r62 = r3->my;
			r61 = r61 + r62;
			r10 = &r61;
			h2d_Graphics_addVertex(r3,r17,r18,r30,r36,r48,r54,r8,r10);
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->y;
			r64 = r5;
			r9 = &r64;
			h2d_Graphics_drawCircle(r3,r17,r18,r4,r9);
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->y;
			r65 = r5;
			r9 = &r65;
			h2d_Graphics_drawCircle(r3,r17,r18,r4,r9);
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r66 = 2;
			r17 = (double)r66;
			r8 = &r17;
			r66 = 52224;
			r9 = &r66;
			r10 = NULL;
			h2d_Graphics_lineStyle(r3,r8,r9,r10);
			r3 = r0->previewLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r19 = r12->y;
			if( r3 == NULL ) hl_null_access();
			h2d_Graphics_flush(r3);
			r36 = r3->curR;
			r48 = r3->curG;
			r54 = r3->curB;
			r62 = r3->curA;
			r67 = r3->ma;
			r63 = r18 * r67;
			r68 = r3->mc;
			r67 = r19 * r68;
			r63 = r63 + r67;
			r67 = r3->mx;
			r63 = r63 + r67;
			r8 = &r63;
			r68 = r3->mb;
			r67 = r18 * r68;
			r69 = r3->md;
			r68 = r19 * r69;
			r67 = r67 + r68;
			r68 = r3->my;
			r67 = r67 + r68;
			r10 = &r67;
			h2d_Graphics_addVertex(r3,r18,r19,r36,r48,r54,r62,r8,r10);
			r3 = r0->previewLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r19 = r12->y;
			if( r3 == NULL ) hl_null_access();
			r36 = r3->curR;
			r48 = r3->curG;
			r54 = r3->curB;
			r62 = r3->curA;
			r69 = r3->ma;
			r68 = r18 * r69;
			r70 = r3->mc;
			r69 = r19 * r70;
			r68 = r68 + r69;
			r69 = r3->mx;
			r68 = r68 + r69;
			r8 = &r68;
			r70 = r3->mb;
			r69 = r18 * r70;
			r71 = r3->md;
			r70 = r19 * r71;
			r69 = r69 + r70;
			r70 = r3->my;
			r69 = r69 + r70;
			r10 = &r69;
			h2d_Graphics_addVertex(r3,r18,r19,r36,r48,r54,r62,r8,r10);
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r19 = r12->y;
			r72 = r5;
			r9 = &r72;
			h2d_Graphics_drawCircle(r3,r18,r19,r4,r9);
			r3 = r0->previewLayer;
			if( r3 == NULL ) hl_null_access();
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r19 = r12->y;
			r73 = r5;
			r9 = &r73;
			h2d_Graphics_drawCircle(r3,r18,r19,r4,r9);
	}
	label$ae2bdbd_4_681:
	return;
}

void components_stage_Canvas_drawLineGraphic(components__stage__Canvas r0,hxlr__lines__LineBase r1) {
	h2d__Graphics r6;
	h2d__col__Point r12;
	double r2, r7, r11, r13, r14, r15, r16, r17, r18, r19, r20, r21, r22, r23, r24, r25, r27, r28, r29, r30, r31, r35, r36, r37, r38, r39, r41, r42, r43, r44, r45, r49, r50, r51, r52, r53, r54, r55, r56, r57, r59, r60, r61, r62, r63, r67, r68, r69, r70, r71;
	int *r9;
	double *r8, *r10;
	int r4, r5, r26, r32, r33, r34, r40, r46, r47, r48, r58, r64, r65, r66, r72, r73;
	r2 = 0.0025000000000000001;
	r4 = 15;
	if( r1 == NULL ) hl_null_access();
	r5 = r1->type;
	switch(r5) {
		default:
			r6 = r0->rideLayer;
			if( r6 == NULL ) hl_null_access();
			r5 = 1;
			r7 = (double)r5;
			r8 = &r7;
			r5 = 16711680;
			r9 = &r5;
			r10 = NULL;
			h2d_Graphics_lineStyle(r6,r8,r9,r10);
			r6 = r0->rideLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r11 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r13 = r12->y;
			if( r6 == NULL ) hl_null_access();
			h2d_Graphics_flush(r6);
			r16 = r6->curR;
			r17 = r6->curG;
			r18 = r6->curB;
			r19 = r6->curA;
			r21 = r6->ma;
			r20 = r11 * r21;
			r22 = r6->mc;
			r21 = r13 * r22;
			r20 = r20 + r21;
			r21 = r6->mx;
			r20 = r20 + r21;
			r8 = &r20;
			r22 = r6->mb;
			r21 = r11 * r22;
			r23 = r6->md;
			r22 = r13 * r23;
			r21 = r21 + r22;
			r22 = r6->my;
			r21 = r21 + r22;
			r10 = &r21;
			h2d_Graphics_addVertex(r6,r11,r13,r16,r17,r18,r19,r8,r10);
			r6 = r0->rideLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r11 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r13 = r12->y;
			if( r6 == NULL ) hl_null_access();
			r16 = r6->curR;
			r17 = r6->curG;
			r18 = r6->curB;
			r19 = r6->curA;
			r23 = r6->ma;
			r22 = r11 * r23;
			r24 = r6->mc;
			r23 = r13 * r24;
			r22 = r22 + r23;
			r23 = r6->mx;
			r22 = r22 + r23;
			r8 = &r22;
			r24 = r6->mb;
			r23 = r11 * r24;
			r25 = r6->md;
			r24 = r13 * r25;
			r23 = r23 + r24;
			r24 = r6->my;
			r23 = r23 + r24;
			r10 = &r23;
			h2d_Graphics_addVertex(r6,r11,r13,r16,r17,r18,r19,r8,r10);
			goto label$ae2bdbd_5_678;
		case 0:
			r6 = r0->rideLayer;
			if( r6 == NULL ) hl_null_access();
			r26 = 2;
			r11 = (double)r26;
			r8 = &r11;
			r26 = 0;
			r9 = &r26;
			r10 = NULL;
			h2d_Graphics_lineStyle(r6,r8,r9,r10);
			r6 = r0->rideLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r13 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->y;
			if( r6 == NULL ) hl_null_access();
			h2d_Graphics_flush(r6);
			r17 = r6->curR;
			r18 = r6->curG;
			r19 = r6->curB;
			r24 = r6->curA;
			r27 = r6->ma;
			r25 = r13 * r27;
			r28 = r6->mc;
			r27 = r14 * r28;
			r25 = r25 + r27;
			r27 = r6->mx;
			r25 = r25 + r27;
			r8 = &r25;
			r28 = r6->mb;
			r27 = r13 * r28;
			r29 = r6->md;
			r28 = r14 * r29;
			r27 = r27 + r28;
			r28 = r6->my;
			r27 = r27 + r28;
			r10 = &r27;
			h2d_Graphics_addVertex(r6,r13,r14,r17,r18,r19,r24,r8,r10);
			r6 = r0->rideLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r13 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->y;
			if( r6 == NULL ) hl_null_access();
			r17 = r6->curR;
			r18 = r6->curG;
			r19 = r6->curB;
			r24 = r6->curA;
			r29 = r6->ma;
			r28 = r13 * r29;
			r30 = r6->mc;
			r29 = r14 * r30;
			r28 = r28 + r29;
			r29 = r6->mx;
			r28 = r28 + r29;
			r8 = &r28;
			r30 = r6->mb;
			r29 = r13 * r30;
			r31 = r6->md;
			r30 = r14 * r31;
			r29 = r29 + r30;
			r30 = r6->my;
			r29 = r29 + r30;
			r10 = &r29;
			h2d_Graphics_addVertex(r6,r13,r14,r17,r18,r19,r24,r8,r10);
			r6 = r0->rideLayer;
			if( r6 == NULL ) hl_null_access();
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r13 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->y;
			r32 = r4;
			r9 = &r32;
			h2d_Graphics_drawCircle(r6,r13,r14,r2,r9);
			r6 = r0->rideLayer;
			if( r6 == NULL ) hl_null_access();
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r13 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->y;
			r33 = r4;
			r9 = &r33;
			h2d_Graphics_drawCircle(r6,r13,r14,r2,r9);
			r6 = r0->colorLayer;
			if( r6 == NULL ) hl_null_access();
			r34 = 2;
			r13 = (double)r34;
			r8 = &r13;
			r34 = 26367;
			r9 = &r34;
			r10 = NULL;
			h2d_Graphics_lineStyle(r6,r8,r9,r10);
			r6 = r0->colorLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->x;
			r15 = r1->nx;
			r14 = r14 + r15;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->y;
			r16 = r1->ny;
			r15 = r15 + r16;
			if( r6 == NULL ) hl_null_access();
			h2d_Graphics_flush(r6);
			r18 = r6->curR;
			r19 = r6->curG;
			r24 = r6->curB;
			r30 = r6->curA;
			r35 = r6->ma;
			r31 = r14 * r35;
			r36 = r6->mc;
			r35 = r15 * r36;
			r31 = r31 + r35;
			r35 = r6->mx;
			r31 = r31 + r35;
			r8 = &r31;
			r36 = r6->mb;
			r35 = r14 * r36;
			r37 = r6->md;
			r36 = r15 * r37;
			r35 = r35 + r36;
			r36 = r6->my;
			r35 = r35 + r36;
			r10 = &r35;
			h2d_Graphics_addVertex(r6,r14,r15,r18,r19,r24,r30,r8,r10);
			r6 = r0->colorLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->x;
			r15 = r1->nx;
			r14 = r14 + r15;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->y;
			r16 = r1->ny;
			r15 = r15 + r16;
			if( r6 == NULL ) hl_null_access();
			r18 = r6->curR;
			r19 = r6->curG;
			r24 = r6->curB;
			r30 = r6->curA;
			r37 = r6->ma;
			r36 = r14 * r37;
			r38 = r6->mc;
			r37 = r15 * r38;
			r36 = r36 + r37;
			r37 = r6->mx;
			r36 = r36 + r37;
			r8 = &r36;
			r38 = r6->mb;
			r37 = r14 * r38;
			r39 = r6->md;
			r38 = r15 * r39;
			r37 = r37 + r38;
			r38 = r6->my;
			r37 = r37 + r38;
			r10 = &r37;
			h2d_Graphics_addVertex(r6,r14,r15,r18,r19,r24,r30,r8,r10);
			goto label$ae2bdbd_5_678;
		case 1:
			r6 = r0->rideLayer;
			if( r6 == NULL ) hl_null_access();
			r40 = 2;
			r14 = (double)r40;
			r8 = &r14;
			r40 = 0;
			r9 = &r40;
			r10 = NULL;
			h2d_Graphics_lineStyle(r6,r8,r9,r10);
			r6 = r0->rideLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->y;
			if( r6 == NULL ) hl_null_access();
			h2d_Graphics_flush(r6);
			r19 = r6->curR;
			r24 = r6->curG;
			r30 = r6->curB;
			r38 = r6->curA;
			r41 = r6->ma;
			r39 = r15 * r41;
			r42 = r6->mc;
			r41 = r16 * r42;
			r39 = r39 + r41;
			r41 = r6->mx;
			r39 = r39 + r41;
			r8 = &r39;
			r42 = r6->mb;
			r41 = r15 * r42;
			r43 = r6->md;
			r42 = r16 * r43;
			r41 = r41 + r42;
			r42 = r6->my;
			r41 = r41 + r42;
			r10 = &r41;
			h2d_Graphics_addVertex(r6,r15,r16,r19,r24,r30,r38,r8,r10);
			r6 = r0->rideLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->y;
			if( r6 == NULL ) hl_null_access();
			r19 = r6->curR;
			r24 = r6->curG;
			r30 = r6->curB;
			r38 = r6->curA;
			r43 = r6->ma;
			r42 = r15 * r43;
			r44 = r6->mc;
			r43 = r16 * r44;
			r42 = r42 + r43;
			r43 = r6->mx;
			r42 = r42 + r43;
			r8 = &r42;
			r44 = r6->mb;
			r43 = r15 * r44;
			r45 = r6->md;
			r44 = r16 * r45;
			r43 = r43 + r44;
			r44 = r6->my;
			r43 = r43 + r44;
			r10 = &r43;
			h2d_Graphics_addVertex(r6,r15,r16,r19,r24,r30,r38,r8,r10);
			r6 = r0->rideLayer;
			if( r6 == NULL ) hl_null_access();
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->y;
			r46 = r4;
			r9 = &r46;
			h2d_Graphics_drawCircle(r6,r15,r16,r2,r9);
			r6 = r0->rideLayer;
			if( r6 == NULL ) hl_null_access();
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r15 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->y;
			r47 = r4;
			r9 = &r47;
			h2d_Graphics_drawCircle(r6,r15,r16,r2,r9);
			r6 = r0->colorLayer;
			if( r6 == NULL ) hl_null_access();
			r48 = 2;
			r15 = (double)r48;
			r8 = &r15;
			r48 = 13369344;
			r9 = &r48;
			r10 = NULL;
			h2d_Graphics_lineStyle(r6,r8,r9,r10);
			r6 = r0->colorLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->x;
			r17 = r1->nx;
			r16 = r16 + r17;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->y;
			r18 = r1->ny;
			r17 = r17 + r18;
			if( r6 == NULL ) hl_null_access();
			h2d_Graphics_flush(r6);
			r24 = r6->curR;
			r30 = r6->curG;
			r38 = r6->curB;
			r44 = r6->curA;
			r49 = r6->ma;
			r45 = r16 * r49;
			r50 = r6->mc;
			r49 = r17 * r50;
			r45 = r45 + r49;
			r49 = r6->mx;
			r45 = r45 + r49;
			r8 = &r45;
			r50 = r6->mb;
			r49 = r16 * r50;
			r51 = r6->md;
			r50 = r17 * r51;
			r49 = r49 + r50;
			r50 = r6->my;
			r49 = r49 + r50;
			r10 = &r49;
			h2d_Graphics_addVertex(r6,r16,r17,r24,r30,r38,r44,r8,r10);
			r6 = r0->colorLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->x;
			r17 = r1->nx;
			r16 = r16 + r17;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->y;
			r18 = r1->ny;
			r17 = r17 + r18;
			if( r6 == NULL ) hl_null_access();
			r24 = r6->curR;
			r30 = r6->curG;
			r38 = r6->curB;
			r44 = r6->curA;
			r51 = r6->ma;
			r50 = r16 * r51;
			r52 = r6->mc;
			r51 = r17 * r52;
			r50 = r50 + r51;
			r51 = r6->mx;
			r50 = r50 + r51;
			r8 = &r50;
			r52 = r6->mb;
			r51 = r16 * r52;
			r53 = r6->md;
			r52 = r17 * r53;
			r51 = r51 + r52;
			r52 = r6->my;
			r51 = r51 + r52;
			r10 = &r51;
			h2d_Graphics_addVertex(r6,r16,r17,r24,r30,r38,r44,r8,r10);
			r6 = r0->colorLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->x;
			r17 = r1->nx;
			r18 = 4.;
			r17 = r17 * r18;
			r18 = r1->dx;
			r19 = r1->invDistance;
			r18 = r18 * r19;
			r19 = 5.;
			r18 = r18 * r19;
			r17 = r17 - r18;
			r16 = r16 + r17;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->y;
			r18 = r1->ny;
			r19 = 4.;
			r18 = r18 * r19;
			r19 = r1->dy;
			r24 = r1->invDistance;
			r19 = r19 * r24;
			r24 = 5.;
			r19 = r19 * r24;
			r18 = r18 - r19;
			r17 = r17 + r18;
			if( r6 == NULL ) hl_null_access();
			r24 = r6->curR;
			r30 = r6->curG;
			r38 = r6->curB;
			r44 = r6->curA;
			r53 = r6->ma;
			r52 = r16 * r53;
			r54 = r6->mc;
			r53 = r17 * r54;
			r52 = r52 + r53;
			r53 = r6->mx;
			r52 = r52 + r53;
			r8 = &r52;
			r54 = r6->mb;
			r53 = r16 * r54;
			r55 = r6->md;
			r54 = r17 * r55;
			r53 = r53 + r54;
			r54 = r6->my;
			r53 = r53 + r54;
			r10 = &r53;
			h2d_Graphics_addVertex(r6,r16,r17,r24,r30,r38,r44,r8,r10);
			r6 = r0->colorLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r16 = r12->x;
			r17 = r1->dx;
			r18 = r1->invDistance;
			r17 = r17 * r18;
			r18 = 5.;
			r17 = r17 * r18;
			r16 = r16 - r17;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->y;
			r18 = r1->dy;
			r19 = r1->invDistance;
			r18 = r18 * r19;
			r19 = 5.;
			r18 = r18 * r19;
			r17 = r17 - r18;
			if( r6 == NULL ) hl_null_access();
			r24 = r6->curR;
			r30 = r6->curG;
			r38 = r6->curB;
			r44 = r6->curA;
			r55 = r6->ma;
			r54 = r16 * r55;
			r56 = r6->mc;
			r55 = r17 * r56;
			r54 = r54 + r55;
			r55 = r6->mx;
			r54 = r54 + r55;
			r8 = &r54;
			r56 = r6->mb;
			r55 = r16 * r56;
			r57 = r6->md;
			r56 = r17 * r57;
			r55 = r55 + r56;
			r56 = r6->my;
			r55 = r55 + r56;
			r10 = &r55;
			h2d_Graphics_addVertex(r6,r16,r17,r24,r30,r38,r44,r8,r10);
			goto label$ae2bdbd_5_678;
		case 2:
			r6 = r0->sceneColorLayer;
			if( r6 == NULL ) hl_null_access();
			r58 = 2;
			r16 = (double)r58;
			r8 = &r16;
			r58 = 52224;
			r9 = &r58;
			r10 = NULL;
			h2d_Graphics_lineStyle(r6,r8,r9,r10);
			r6 = r0->sceneColorLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->y;
			if( r6 == NULL ) hl_null_access();
			h2d_Graphics_flush(r6);
			r30 = r6->curR;
			r38 = r6->curG;
			r44 = r6->curB;
			r56 = r6->curA;
			r59 = r6->ma;
			r57 = r17 * r59;
			r60 = r6->mc;
			r59 = r18 * r60;
			r57 = r57 + r59;
			r59 = r6->mx;
			r57 = r57 + r59;
			r8 = &r57;
			r60 = r6->mb;
			r59 = r17 * r60;
			r61 = r6->md;
			r60 = r18 * r61;
			r59 = r59 + r60;
			r60 = r6->my;
			r59 = r59 + r60;
			r10 = &r59;
			h2d_Graphics_addVertex(r6,r17,r18,r30,r38,r44,r56,r8,r10);
			r6 = r0->sceneColorLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->y;
			if( r6 == NULL ) hl_null_access();
			r30 = r6->curR;
			r38 = r6->curG;
			r44 = r6->curB;
			r56 = r6->curA;
			r61 = r6->ma;
			r60 = r17 * r61;
			r62 = r6->mc;
			r61 = r18 * r62;
			r60 = r60 + r61;
			r61 = r6->mx;
			r60 = r60 + r61;
			r8 = &r60;
			r62 = r6->mb;
			r61 = r17 * r62;
			r63 = r6->md;
			r62 = r18 * r63;
			r61 = r61 + r62;
			r62 = r6->my;
			r61 = r61 + r62;
			r10 = &r61;
			h2d_Graphics_addVertex(r6,r17,r18,r30,r38,r44,r56,r8,r10);
			r6 = r0->sceneColorLayer;
			if( r6 == NULL ) hl_null_access();
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->y;
			r64 = r4;
			r9 = &r64;
			h2d_Graphics_drawCircle(r6,r17,r18,r2,r9);
			r6 = r0->sceneColorLayer;
			if( r6 == NULL ) hl_null_access();
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r17 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->y;
			r65 = r4;
			r9 = &r65;
			h2d_Graphics_drawCircle(r6,r17,r18,r2,r9);
			r6 = r0->scenePlaybackLayer;
			if( r6 == NULL ) hl_null_access();
			r66 = 2;
			r17 = (double)r66;
			r8 = &r17;
			r66 = 0;
			r9 = &r66;
			r10 = NULL;
			h2d_Graphics_lineStyle(r6,r8,r9,r10);
			r6 = r0->scenePlaybackLayer;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r19 = r12->y;
			if( r6 == NULL ) hl_null_access();
			h2d_Graphics_flush(r6);
			r38 = r6->curR;
			r44 = r6->curG;
			r56 = r6->curB;
			r62 = r6->curA;
			r67 = r6->ma;
			r63 = r18 * r67;
			r68 = r6->mc;
			r67 = r19 * r68;
			r63 = r63 + r67;
			r67 = r6->mx;
			r63 = r63 + r67;
			r8 = &r63;
			r68 = r6->mb;
			r67 = r18 * r68;
			r69 = r6->md;
			r68 = r19 * r69;
			r67 = r67 + r68;
			r68 = r6->my;
			r67 = r67 + r68;
			r10 = &r67;
			h2d_Graphics_addVertex(r6,r18,r19,r38,r44,r56,r62,r8,r10);
			r6 = r0->scenePlaybackLayer;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r19 = r12->y;
			if( r6 == NULL ) hl_null_access();
			r38 = r6->curR;
			r44 = r6->curG;
			r56 = r6->curB;
			r62 = r6->curA;
			r69 = r6->ma;
			r68 = r18 * r69;
			r70 = r6->mc;
			r69 = r19 * r70;
			r68 = r68 + r69;
			r69 = r6->mx;
			r68 = r68 + r69;
			r8 = &r68;
			r70 = r6->mb;
			r69 = r18 * r70;
			r71 = r6->md;
			r70 = r19 * r71;
			r69 = r69 + r70;
			r70 = r6->my;
			r69 = r69 + r70;
			r10 = &r69;
			h2d_Graphics_addVertex(r6,r18,r19,r38,r44,r56,r62,r8,r10);
			r6 = r0->scenePlaybackLayer;
			if( r6 == NULL ) hl_null_access();
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->x;
			r12 = r1->start;
			if( r12 == NULL ) hl_null_access();
			r19 = r12->y;
			r72 = r4;
			r9 = &r72;
			h2d_Graphics_drawCircle(r6,r18,r19,r2,r9);
			r6 = r0->scenePlaybackLayer;
			if( r6 == NULL ) hl_null_access();
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r18 = r12->x;
			r12 = r1->end;
			if( r12 == NULL ) hl_null_access();
			r19 = r12->y;
			r73 = r4;
			r9 = &r73;
			h2d_Graphics_drawCircle(r6,r18,r19,r2,r9);
	}
	label$ae2bdbd_5_678:
	return;
}

void components_stage_Canvas_addLine(components__stage__Canvas r0,int r1,double r2,double r3,double r4,double r5,vdynamic* r6,vdynamic* r7,vdynamic* r8) {
	hxlr__lines__Scenery r27;
	bool r9;
	hxlr__lines__Floor r13;
	hxlr__engine__Grid r33;
	hxlr__lines__Accel r22;
	$Main r34;
	h2d__col__Point r14, r19;
	hxlr__lines__LineBase r11;
	double r15, r17, r20, r21, r23, r24, r25, r26, r28, r29, r30, r31;
	vdynamic *r32;
	double *r16, *r18;
	int r10;
	if( r6 ) goto label$ae2bdbd_6_3;
	r9 = false;
	r6 = hl_alloc_dynbool(r9);
	label$ae2bdbd_6_3:
	if( r7 ) goto label$ae2bdbd_6_6;
	r10 = -1;
	r7 = hl_alloc_dynamic(&t$_i32);
	r7->v.i = r10;
	label$ae2bdbd_6_6:
	if( r8 ) goto label$ae2bdbd_6_9;
	r10 = -1;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r10;
	label$ae2bdbd_6_9:
	r11 = NULL;
	switch(r1) {
		default:
			goto label$ae2bdbd_6_62;
		case 0:
			r13 = (hxlr__lines__Floor)hl_alloc_obj(&t$hxlr_lines_Floor);
			r14 = (h2d__col__Point)hl_alloc_obj(&t$h2d_col_Point);
			r15 = r2;
			r16 = &r15;
			r17 = r3;
			r18 = &r17;
			h2d_col_Point_new(r14,r16,r18);
			r19 = (h2d__col__Point)hl_alloc_obj(&t$h2d_col_Point);
			r20 = r4;
			r16 = &r20;
			r21 = r5;
			r18 = &r21;
			h2d_col_Point_new(r19,r16,r18);
			r9 = r6 ? r6->v.b : 0;
			hxlr_lines_Floor_new(r13,r14,r19,r9);
			r11 = ((hxlr__lines__LineBase)r13);
			goto label$ae2bdbd_6_62;
		case 1:
			r22 = (hxlr__lines__Accel)hl_alloc_obj(&t$hxlr_lines_Accel);
			r14 = (h2d__col__Point)hl_alloc_obj(&t$h2d_col_Point);
			r23 = r2;
			r16 = &r23;
			r24 = r3;
			r18 = &r24;
			h2d_col_Point_new(r14,r16,r18);
			r19 = (h2d__col__Point)hl_alloc_obj(&t$h2d_col_Point);
			r25 = r4;
			r16 = &r25;
			r26 = r5;
			r18 = &r26;
			h2d_col_Point_new(r19,r16,r18);
			r9 = r6 ? r6->v.b : 0;
			hxlr_lines_Accel_new(r22,r14,r19,r9);
			r11 = ((hxlr__lines__LineBase)r22);
			goto label$ae2bdbd_6_62;
		case 2:
			r27 = (hxlr__lines__Scenery)hl_alloc_obj(&t$hxlr_lines_Scenery);
			r14 = (h2d__col__Point)hl_alloc_obj(&t$h2d_col_Point);
			r28 = r2;
			r16 = &r28;
			r29 = r3;
			r18 = &r29;
			h2d_col_Point_new(r14,r16,r18);
			r19 = (h2d__col__Point)hl_alloc_obj(&t$h2d_col_Point);
			r30 = r4;
			r16 = &r30;
			r31 = r5;
			r18 = &r31;
			h2d_col_Point_new(r19,r16,r18);
			r9 = r6 ? r6->v.b : 0;
			hxlr_lines_Scenery_new(r27,r14,r19,r9);
			r11 = ((hxlr__lines__LineBase)r27);
	}
	label$ae2bdbd_6_62:
	r10 = -1;
	r32 = hl_alloc_dynamic(&t$_i32);
	r32->v.i = r10;
	if( r7 == r32 || (r7 && r32 && (r7->v.i == r32->v.i)) ) goto label$ae2bdbd_6_68;
	if( r11 == NULL ) hl_null_access();
	r10 = r7 ? r7->v.i : 0;
	hxlr_lines_LineBase_setLim(r11,r10);
	label$ae2bdbd_6_68:
	r10 = -1;
	r32 = hl_alloc_dynamic(&t$_i32);
	r32->v.i = r10;
	if( r8 == r32 || (r8 && r32 && (r8->v.i == r32->v.i)) ) goto label$ae2bdbd_6_73;
	if( r11 == NULL ) hl_null_access();
	r11->id = r8;
	label$ae2bdbd_6_73:
	components_stage_Canvas_drawLineGraphic(r0,r11);
	r34 = ($Main)g$_Main;
	r33 = r34->grid;
	if( r33 == NULL ) hl_null_access();
	hxlr_engine_Grid_register(r33,r11);
	return;
}

venum* components_stage_Canvas_get_drawMode(components__stage__Canvas r0) {
	venum *r1;
	r1 = r0->drawMode;
	return r1;
}

venum* components_stage_Canvas_set_drawMode(components__stage__Canvas r0,venum* r1) {
	String r8;
	h2d__Graphics r5;
	bool r4;
	$Main r7;
	vdynamic *r9;
	components__stage__LRConsole r6;
	int r3;
	if( r1 == NULL ) hl_null_access();
	r3 = HL__ENUM_INDEX__(r1);
	switch(r3) {
		default:
			goto label$ae2bdbd_8_141;
		case 0:
			r5 = r0->colorLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = true;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->sceneColorLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = true;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->scenePlaybackLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->rideLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = true;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r7 = ($Main)g$_Main;
			r6 = r7->console;
			if( r6 == NULL ) hl_null_access();
			r8 = (String)s$Draw_mode_set_to_Edit;
			r9 = NULL;
			h2d_Console_log(((h2d__Console)r6),r8,r9);
			goto label$ae2bdbd_8_141;
		case 1:
			r5 = r0->colorLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->sceneColorLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->scenePlaybackLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = true;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->rideLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = true;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r7 = ($Main)g$_Main;
			r6 = r7->console;
			if( r6 == NULL ) hl_null_access();
			r8 = (String)s$Draw_mode_set_to_Playback;
			r9 = NULL;
			h2d_Console_log(((h2d__Console)r6),r8,r9);
			goto label$ae2bdbd_8_141;
		case 2:
			r5 = r0->colorLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = true;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->sceneColorLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->scenePlaybackLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->rideLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = true;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r7 = ($Main)g$_Main;
			r6 = r7->console;
			if( r6 == NULL ) hl_null_access();
			r8 = (String)s$Draw_mode_set_to_No_Scenery_Edit;
			r9 = NULL;
			h2d_Console_log(((h2d__Console)r6),r8,r9);
			goto label$ae2bdbd_8_141;
		case 3:
			r5 = r0->colorLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->sceneColorLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->scenePlaybackLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->rideLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = true;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r7 = ($Main)g$_Main;
			r6 = r7->console;
			if( r6 == NULL ) hl_null_access();
			r8 = (String)s$cb653d7;
			r9 = NULL;
			h2d_Console_log(((h2d__Console)r6),r8,r9);
			goto label$ae2bdbd_8_141;
		case 4:
			r5 = r0->colorLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->sceneColorLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = true;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->scenePlaybackLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->rideLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r7 = ($Main)g$_Main;
			r6 = r7->console;
			if( r6 == NULL ) hl_null_access();
			r8 = (String)s$2504e23;
			r9 = NULL;
			h2d_Console_log(((h2d__Console)r6),r8,r9);
			goto label$ae2bdbd_8_141;
		case 5:
			r5 = r0->colorLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->sceneColorLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->scenePlaybackLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = true;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r5 = r0->rideLayer;
			if( r5 == NULL ) hl_null_access();
			r4 = false;
			r4 = h2d_Object_set_visible(((h2d__Object)r5),r4);
			r7 = ($Main)g$_Main;
			r6 = r7->console;
			if( r6 == NULL ) hl_null_access();
			r8 = (String)s$83a17f8;
			r9 = NULL;
			h2d_Console_log(((h2d__Console)r6),r8,r9);
	}
	label$ae2bdbd_8_141:
	r0->drawMode = r1;
	return r1;
}

void components_stage_Canvas_new(components__stage__Canvas r0,h2d__Object r1) {
	h2d__Graphics r5;
	venum *r2;
	bool r6;
	h2d__Object r4;
	r2 = (venum*)g$6537d82;
	r0->drawMode = r2;
	h2d_Scene_new(((h2d__Scene)r0));
	if( r1 == NULL ) hl_null_access();
	((void (*)(h2d__Object,components__stage__Canvas))r1->$type->vobj_proto[1])(r1,r0);
	r5 = (h2d__Graphics)hl_alloc_obj(&t$h2d_Graphics);
	h2d_Graphics_new(r5,((h2d__Object)r0));
	r0->sceneColorLayer = r5;
	r5 = (h2d__Graphics)hl_alloc_obj(&t$h2d_Graphics);
	h2d_Graphics_new(r5,((h2d__Object)r0));
	r0->scenePlaybackLayer = r5;
	r5 = r0->scenePlaybackLayer;
	if( r5 == NULL ) hl_null_access();
	r6 = false;
	r6 = h2d_Object_set_visible(((h2d__Object)r5),r6);
	r5 = (h2d__Graphics)hl_alloc_obj(&t$h2d_Graphics);
	h2d_Graphics_new(r5,((h2d__Object)r0));
	r0->colorLayer = r5;
	r5 = (h2d__Graphics)hl_alloc_obj(&t$h2d_Graphics);
	h2d_Graphics_new(r5,((h2d__Object)r0));
	r0->rideLayer = r5;
	r5 = (h2d__Graphics)hl_alloc_obj(&t$h2d_Graphics);
	h2d_Graphics_new(r5,((h2d__Object)r0));
	r0->previewLayer = r5;
	r4 = (h2d__Object)hl_alloc_obj(&t$h2d_Object);
	h2d_Object_new(r4,((h2d__Object)r0));
	r0->sledderLayer = r4;
	r4 = (h2d__Object)hl_alloc_obj(&t$h2d_Object);
	h2d_Object_new(r4,((h2d__Object)r0));
	r0->preview = r4;
	return;
}

