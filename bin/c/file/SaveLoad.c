// Generated by HLC 4.1.5 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <file/SaveLoad.h>
#include <hl/types/ArrayObj.h>
#include <_std/Main.h>
#include <haxe/ds/IntMap.h>
#include <components/managers/Grid.h>
#include <components/lines/LineBase.h>
#include <h2d/col/Point.h>
#include <haxe/ds/StringMap.h>
#include <components/managers/Riders.h>
#include <components/sledder/RiderBase.h>
#include <_std/Date.h>
extern hl_type t$vrt_9b9728c;
extern hl_type t$hl_types_ArrayObj;
void hl_types_ArrayObj_new(hl__types__ArrayObj);
extern $Main g$_Main;
extern hl_type t$String;
vvirtual* haxe_ds_IntMap_iterator(haxe__ds__IntMap);
extern hl_type t$vrt_366632b;
extern hl_type t$fun_bf7849e;
extern hl_type t$fun_4a57607;
vvirtual* components_lines_LineBase_toSaveObject(components__lines__LineBase);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
vvirtual* haxe_ds_StringMap_iterator(haxe__ds__StringMap);
extern hl_type t$vrt_91f9e97;
extern hl_type t$fun_6c7a217;
extern hl_type t$vrt_9af152f;
String components_sledder_RiderBase_get_name(components__sledder__RiderBase);
extern hl_type t$h2d_col_Point;
extern hl_type t$nul_i32;
int components_sledder_RiderBase_get_colorA(components__sledder__RiderBase);
extern hl_type t$_i32;
int components_sledder_RiderBase_get_colorB(components__sledder__RiderBase);
#include <hl/natives.h>
extern String s$JAN;
extern String s$FEB;
extern String s$MAR;
extern String s$APR;
extern String s$MAY;
extern String s$JUN;
extern String s$AUG;
extern String s$SEP;
extern String s$OCT;
extern String s$NOV;
extern String s$DEC;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
Date Date_now(void);
int Date_getMonth(Date);
extern String s$Lousy_Smarch_Weather;
extern String s$_saves_;
String String___add__(String,String);
bool sys_FileSystem_isDirectory(String);
void sys_FileSystem_createDirectory(String);
extern String s$6666cd7;
int Date_getDate(Date);
String String___alloc__(vbyte*,int);
int Date_getFullYear(Date);
extern String s$b14a7b8;
int Date_getHours(Date);
int Date_getMinutes(Date);
bool hxd_Save_save(vdynamic*,String,bool*);
#include <components/stage/LRConsole.h>
extern String s$_saves;
hl__types__ArrayObj sys_FileSystem_readDirectory(String);
extern String s$7ce4f5c;
#include <h2d/Console.h>
void h2d_Console_log(h2d__Console,String,vdynamic*);
extern String s$No_saves_found_;
extern String s$;
extern String s$_Directory_;
extern String s$_files_;
extern String s$7322de4;
#include <components/managers/Musicplayer.h>
#include <components/stage/Canvas.h>
extern String s$_sav;
bool sys_FileSystem_exists(String);
vdynamic* hxd_Save_load(vdynamic*,String,bool*);
extern String s$Track_load_error_;
extern String s$_directory_file_not_found_;
extern String s$9d66bff;
extern String s$_directory;
void hl_types_ArrayObj_reverse(hl__types__ArrayObj);
hl__types__ArrayObj String_split(String,String);
void components_managers_Musicplayer_loadAudio(components__managers__Musicplayer,String);
extern hl_type t$vrt_f776906;
extern hl_type t$_bool;
void components_stage_Canvas_addLine(components__stage__Canvas,int,double,double,double,double,vdynamic*,vdynamic*);
void components_managers_Riders_addNewRider(components__managers__Riders,String,h2d__col__Point,vdynamic*,vdynamic*);
vdynamic* haxe_ds_StringMap_get(haxe__ds__StringMap,String);
void components_sledder_RiderBase_setColor(components__sledder__RiderBase,vdynamic*,vdynamic*);
#include <haxe/io/Bytes.h>
#include <haxe/format/JsonParser.h>
#include <hl/types/ArrayDyn.h>
extern String s$_json;
haxe__io__Bytes sys_io_File_getBytes(String);
String haxe_io_Bytes_toString(haxe__io__Bytes);
extern hl_type t$haxe_format_JsonParser;
void haxe_format_JsonParser_new(haxe__format__JsonParser,String);
vdynamic* haxe_format_JsonParser_doParse(haxe__format__JsonParser);
extern hl_type t$_dyn;
extern String s$Bosh;
extern hl_type t$ref_f64;
void h2d_col_Point_new(h2d__col__Point,double*,double*);
extern hl_type t$hl_types_ArrayDyn;
void hl_types_ArrayDyn_reverse(hl__types__ArrayDyn);
int hl_types_ArrayDyn_get_length(hl__types__ArrayDyn);
extern hl_type t$nul_bool;
extern hl_type t$vrt_45af8a6;
extern String s$playerdata;

void file_SaveLoad_new(file__SaveLoad r0) {
	return;
}

void file_SaveLoad_saveTrack(file__SaveLoad r0,String r1) {
	bool *r32;
	components__managers__Riders r17;
	components__managers__Grid r9;
	String r5, r28, r29;
	Date r25;
	haxe__ds__StringMap r16;
	hl__types__ArrayObj r3;
	vvirtual *r2, *r7, *r11, *r15, *r18, *r20;
	hl_type *r24;
	bool r12;
	haxe__ds__IntMap r8;
	components__sledder__RiderBase r19;
	$Main r6;
	h2d__col__Point r21;
	components__lines__LineBase r13;
	int *r30;
	vdynamic *r10, *r22;
	vbyte *r31;
	varray *r23;
	int r14, r26, r27;
	r2 = hl_alloc_virtual(&t$vrt_9b9728c);
	r3 = (hl__types__ArrayObj)hl_alloc_obj(&t$hl_types_ArrayObj);
	hl_types_ArrayObj_new(r3);
	if( hl_vfields(r2)[1] ) *(hl__types__ArrayObj*)(hl_vfields(r2)[1]) = (hl__types__ArrayObj)r3; else hl_dyn_setp(r2->value,352444302/*lines*/,&t$hl_types_ArrayObj,r3);
	r3 = (hl__types__ArrayObj)hl_alloc_obj(&t$hl_types_ArrayObj);
	hl_types_ArrayObj_new(r3);
	if( hl_vfields(r2)[3] ) *(hl__types__ArrayObj*)(hl_vfields(r2)[3]) = (hl__types__ArrayObj)r3; else hl_dyn_setp(r2->value,203975107/*riders*/,&t$hl_types_ArrayObj,r3);
	r6 = ($Main)g$_Main;
	r5 = r6->trackName;
	if( hl_vfields(r2)[2] ) *(String*)(hl_vfields(r2)[2]) = (String)r5; else hl_dyn_setp(r2->value,150958933/*name*/,&t$String,r5);
	r6 = ($Main)g$_Main;
	r5 = r6->authorName;
	if( hl_vfields(r2)[0] ) *(String*)(hl_vfields(r2)[0]) = (String)r5; else hl_dyn_setp(r2->value,326888474/*author*/,&t$String,r5);
	r6 = ($Main)g$_Main;
	r5 = r6->songName;
	if( hl_vfields(r2)[4] ) *(String*)(hl_vfields(r2)[4]) = (String)r5; else hl_dyn_setp(r2->value,207103199/*song*/,&t$String,r5);
	r6 = ($Main)g$_Main;
	r9 = r6->grid;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->lines;
	if( r8 == NULL ) hl_null_access();
	r7 = haxe_ds_IntMap_iterator(r8);
	r11 = hl_to_virtual(&t$vrt_366632b,(vdynamic*)r7);
	label$eb91429_2_23:
	if( r11 == NULL ) hl_null_access();
	if( hl_vfields(r11)[0] ) r12 = ((bool (*)(vdynamic*))hl_vfields(r11)[0])(r11->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r11->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r12 = (bool)ret.v.i;
	}
	if( !r12 ) goto label$eb91429_2_37;
	if( hl_vfields(r11)[1] ) r13 = ((components__lines__LineBase (*)(vdynamic*))hl_vfields(r11)[1])(r11->value); else {
		r13 = (components__lines__LineBase)hl_dyn_call_obj(r11->value,&t$fun_4a57607,151160317/*next*/,NULL,NULL);
	}
	if( r13 ) goto label$eb91429_2_30;
	goto label$eb91429_2_23;
	label$eb91429_2_30:
	if( r2 == NULL ) hl_null_access();
	r3 = hl_vfields(r2)[1] ? (*(hl__types__ArrayObj*)(hl_vfields(r2)[1])) : (hl__types__ArrayObj)hl_dyn_getp(r2->value,352444302/*lines*/,&t$hl_types_ArrayObj);
	if( r3 == NULL ) hl_null_access();
	if( r13 == NULL ) hl_null_access();
	r15 = components_lines_LineBase_toSaveObject(r13);
	r14 = hl_types_ArrayObj_push(r3,((vdynamic*)r15));
	goto label$eb91429_2_23;
	label$eb91429_2_37:
	r6 = ($Main)g$_Main;
	r17 = r6->riders;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->riders;
	if( r16 == NULL ) hl_null_access();
	r7 = haxe_ds_StringMap_iterator(r16);
	r18 = hl_to_virtual(&t$vrt_91f9e97,(vdynamic*)r7);
	label$eb91429_2_44:
	if( r18 == NULL ) hl_null_access();
	if( hl_vfields(r18)[0] ) r12 = ((bool (*)(vdynamic*))hl_vfields(r18)[0])(r18->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r18->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r12 = (bool)ret.v.i;
	}
	if( !r12 ) goto label$eb91429_2_68;
	if( hl_vfields(r18)[1] ) r19 = ((components__sledder__RiderBase (*)(vdynamic*))hl_vfields(r18)[1])(r18->value); else {
		r19 = (components__sledder__RiderBase)hl_dyn_call_obj(r18->value,&t$fun_6c7a217,151160317/*next*/,NULL,NULL);
	}
	r20 = hl_alloc_virtual(&t$vrt_9af152f);
	if( r19 == NULL ) hl_null_access();
	r5 = components_sledder_RiderBase_get_name(r19);
	if( hl_vfields(r20)[2] ) *(String*)(hl_vfields(r20)[2]) = (String)r5; else hl_dyn_setp(r20->value,150958933/*name*/,&t$String,r5);
	r21 = r19->startPos;
	if( hl_vfields(r20)[4] ) *(h2d__col__Point*)(hl_vfields(r20)[4]) = (h2d__col__Point)r21; else hl_dyn_setp(r20->value,-492401522/*startPoint*/,&t$h2d_col_Point,r21);
	r22 = r19->enabledFrame;
	if( hl_vfields(r20)[3] ) *(vdynamic**)(hl_vfields(r20)[3]) = (vdynamic*)r22; else hl_dyn_setp(r20->value,43667696/*startFrame*/,&t$nul_i32,r22);
	r22 = r19->disableFrame;
	if( hl_vfields(r20)[5] ) *(vdynamic**)(hl_vfields(r20)[5]) = (vdynamic*)r22; else hl_dyn_setp(r20->value,382054603/*stopFrame*/,&t$nul_i32,r22);
	r14 = components_sledder_RiderBase_get_colorA(r19);
	if( hl_vfields(r20)[0] ) *(int*)(hl_vfields(r20)[0]) = (int)r14; else hl_dyn_seti(r20->value,-427375335/*colora*/,&t$_i32,r14);
	r14 = components_sledder_RiderBase_get_colorB(r19);
	if( hl_vfields(r20)[1] ) *(int*)(hl_vfields(r20)[1]) = (int)r14; else hl_dyn_seti(r20->value,-427375334/*colorb*/,&t$_i32,r14);
	if( r2 == NULL ) hl_null_access();
	r3 = hl_vfields(r2)[3] ? (*(hl__types__ArrayObj*)(hl_vfields(r2)[3])) : (hl__types__ArrayObj)hl_dyn_getp(r2->value,203975107/*riders*/,&t$hl_types_ArrayObj);
	if( r3 == NULL ) hl_null_access();
	r14 = hl_types_ArrayObj_push(r3,((vdynamic*)r20));
	goto label$eb91429_2_44;
	label$eb91429_2_68:
	r24 = &t$String;
	r14 = 12;
	r23 = hl_alloc_array(r24,r14);
	r5 = (String)s$JAN;
	r14 = 0;
	((String*)(r23 + 1))[r14] = r5;
	r5 = (String)s$FEB;
	r14 = 1;
	((String*)(r23 + 1))[r14] = r5;
	r5 = (String)s$MAR;
	r14 = 2;
	((String*)(r23 + 1))[r14] = r5;
	r5 = (String)s$APR;
	r14 = 3;
	((String*)(r23 + 1))[r14] = r5;
	r5 = (String)s$MAY;
	r14 = 4;
	((String*)(r23 + 1))[r14] = r5;
	r5 = (String)s$JUN;
	r14 = 5;
	((String*)(r23 + 1))[r14] = r5;
	r5 = (String)s$JUN;
	r14 = 6;
	((String*)(r23 + 1))[r14] = r5;
	r5 = (String)s$AUG;
	r14 = 7;
	((String*)(r23 + 1))[r14] = r5;
	r5 = (String)s$SEP;
	r14 = 8;
	((String*)(r23 + 1))[r14] = r5;
	r5 = (String)s$OCT;
	r14 = 9;
	((String*)(r23 + 1))[r14] = r5;
	r5 = (String)s$NOV;
	r14 = 10;
	((String*)(r23 + 1))[r14] = r5;
	r5 = (String)s$DEC;
	r14 = 11;
	((String*)(r23 + 1))[r14] = r5;
	r3 = hl_types_ArrayObj_alloc(r23);
	r25 = Date_now();
	if( r25 == NULL ) hl_null_access();
	r14 = Date_getMonth(r25);
	if( r3 == NULL ) hl_null_access();
	r27 = r3->length;
	if( ((unsigned)r14) < ((unsigned)r27) ) goto label$eb91429_2_116;
	r5 = NULL;
	goto label$eb91429_2_119;
	label$eb91429_2_116:
	r23 = r3->array;
	r10 = ((vdynamic**)(r23 + 1))[r14];
	r5 = (String)r10;
	label$eb91429_2_119:
	if( !r5 ) goto label$eb91429_2_128;
	r27 = r3->length;
	if( ((unsigned)r14) < ((unsigned)r27) ) goto label$eb91429_2_124;
	r5 = NULL;
	goto label$eb91429_2_127;
	label$eb91429_2_124:
	r23 = r3->array;
	r10 = ((vdynamic**)(r23 + 1))[r14];
	r5 = (String)r10;
	label$eb91429_2_127:
	goto label$eb91429_2_129;
	label$eb91429_2_128:
	r5 = (String)s$Lousy_Smarch_Weather;
	label$eb91429_2_129:
	r28 = (String)s$_saves_;
	r28 = String___add__(r28,r1);
	r12 = sys_FileSystem_isDirectory(r28);
	if( r12 ) goto label$eb91429_2_136;
	r28 = (String)s$_saves_;
	r28 = String___add__(r28,r1);
	sys_FileSystem_createDirectory(r28);
	label$eb91429_2_136:
	r28 = (String)s$_saves_;
	r28 = String___add__(r28,r1);
	r29 = (String)s$6666cd7;
	r28 = String___add__(r28,r29);
	r25 = Date_now();
	if( r25 == NULL ) hl_null_access();
	r26 = Date_getDate(r25);
	r30 = &r26;
	r31 = hl_itos(r26,r30);
	r29 = String___alloc__(r31,r26);
	r28 = String___add__(r28,r29);
	r28 = String___add__(r28,r5);
	r25 = Date_now();
	if( r25 == NULL ) hl_null_access();
	r26 = Date_getFullYear(r25);
	r30 = &r26;
	r31 = hl_itos(r26,r30);
	r29 = String___alloc__(r31,r26);
	r28 = String___add__(r28,r29);
	r29 = (String)s$b14a7b8;
	r28 = String___add__(r28,r29);
	r25 = Date_now();
	if( r25 == NULL ) hl_null_access();
	r26 = Date_getHours(r25);
	r30 = &r26;
	r31 = hl_itos(r26,r30);
	r29 = String___alloc__(r31,r26);
	r28 = String___add__(r28,r29);
	r29 = (String)s$b14a7b8;
	r28 = String___add__(r28,r29);
	r25 = Date_now();
	if( r25 == NULL ) hl_null_access();
	r26 = Date_getMinutes(r25);
	r30 = &r26;
	r31 = hl_itos(r26,r30);
	r29 = String___alloc__(r31,r26);
	r28 = String___add__(r28,r29);
	r12 = true;
	r32 = &r12;
	r12 = hxd_Save_save(((vdynamic*)r2),r28,r32);
	return;
}

void file_SaveLoad_listTrackFiles(file__SaveLoad r0) {
	String r3, r14, r15, r16;
	hl__types__ArrayObj r4, r9;
	bool r2;
	$Main r6;
	int *r17;
	vdynamic *r7, *r12;
	vbyte *r18;
	varray *r13;
	int r8, r10, r11;
	components__stage__LRConsole r5;
	r3 = (String)s$_saves;
	r2 = sys_FileSystem_isDirectory(r3);
	if( !r2 ) goto label$eb91429_3_67;
	r3 = (String)s$_saves;
	r4 = sys_FileSystem_readDirectory(r3);
	r6 = ($Main)g$_Main;
	r5 = r6->console;
	if( r5 == NULL ) hl_null_access();
	r3 = (String)s$7ce4f5c;
	r7 = NULL;
	h2d_Console_log(((h2d__Console)r5),r3,r7);
	if( r4 == NULL ) hl_null_access();
	r8 = r4->length;
	r10 = 0;
	if( r8 != r10 ) goto label$eb91429_3_22;
	r6 = ($Main)g$_Main;
	r5 = r6->console;
	if( r5 == NULL ) hl_null_access();
	r3 = (String)s$No_saves_found_;
	r8 = 16711680;
	r7 = hl_alloc_dynamic(&t$_i32);
	r7->v.i = r8;
	h2d_Console_log(((h2d__Console)r5),r3,r7);
	label$eb91429_3_22:
	r8 = 0;
	label$eb91429_3_23:
	if( r4 == NULL ) hl_null_access();
	r11 = r4->length;
	if( r8 >= r11 ) goto label$eb91429_3_60;
	r11 = r4->length;
	if( ((unsigned)r8) < ((unsigned)r11) ) goto label$eb91429_3_31;
	r3 = NULL;
	goto label$eb91429_3_34;
	label$eb91429_3_31:
	r13 = r4->array;
	r12 = ((vdynamic**)(r13 + 1))[r8];
	r3 = (String)r12;
	label$eb91429_3_34:
	++r8;
	r14 = (String)s$;
	r15 = (String)s$_saves_;
	r15 = String___add__(r15,r3);
	r2 = sys_FileSystem_isDirectory(r15);
	if( !r2 ) goto label$eb91429_3_53;
	r15 = (String)s$_saves_;
	r15 = String___add__(r15,r3);
	r9 = sys_FileSystem_readDirectory(r15);
	r15 = (String)s$_Directory_;
	if( r9 == NULL ) hl_null_access();
	r10 = r9->length;
	r17 = &r10;
	r18 = hl_itos(r10,r17);
	r16 = String___alloc__(r18,r10);
	r15 = String___add__(r15,r16);
	r16 = (String)s$_files_;
	r15 = String___add__(r15,r16);
	r14 = r15;
	label$eb91429_3_53:
	r6 = ($Main)g$_Main;
	r5 = r6->console;
	if( r5 == NULL ) hl_null_access();
	r15 = String___add__(r3,r14);
	r7 = NULL;
	h2d_Console_log(((h2d__Console)r5),r15,r7);
	goto label$eb91429_3_23;
	label$eb91429_3_60:
	r6 = ($Main)g$_Main;
	r5 = r6->console;
	if( r5 == NULL ) hl_null_access();
	r3 = (String)s$7ce4f5c;
	r7 = NULL;
	h2d_Console_log(((h2d__Console)r5),r3,r7);
	goto label$eb91429_3_74;
	label$eb91429_3_67:
	r6 = ($Main)g$_Main;
	r5 = r6->console;
	if( r5 == NULL ) hl_null_access();
	r3 = (String)s$7322de4;
	r8 = 16711680;
	r7 = hl_alloc_dynamic(&t$_i32);
	r7->v.i = r8;
	h2d_Console_log(((h2d__Console)r5),r3,r7);
	label$eb91429_3_74:
	return;
}

void file_SaveLoad_loadTrack(file__SaveLoad r0,String r1,vdynamic* r2) {
	components__managers__Riders r33;
	bool *r11;
	String r7, r8, r19;
	haxe__ds__StringMap r35;
	hl__types__ArrayObj r15, r16;
	vvirtual *r4, *r10, *r23, *r32;
	bool r6, r20, r30;
	components__managers__Musicplayer r21;
	components__sledder__RiderBase r36;
	$Main r13;
	h2d__col__Point r26;
	components__stage__Canvas r24;
	double r25, r27, r28, r29;
	vdynamic *r9, *r14, *r31, *r34;
	varray *r18;
	components__stage__LRConsole r12;
	int r3, r17, r22;
	if( r2 ) goto label$eb91429_4_3;
	r3 = 0;
	r2 = hl_alloc_dynamic(&t$_i32);
	r2->v.i = r3;
	label$eb91429_4_3:
	r4 = NULL;
	r7 = (String)s$_saves_;
	r7 = String___add__(r7,r1);
	r6 = sys_FileSystem_isDirectory(r7);
	if( r6 ) goto label$eb91429_4_35;
	r7 = (String)s$_saves_;
	r7 = String___add__(r7,r1);
	r8 = (String)s$_sav;
	r7 = String___add__(r7,r8);
	r6 = sys_FileSystem_exists(r7);
	if( !r6 ) goto label$eb91429_4_23;
	r10 = NULL;
	r7 = (String)s$_saves_;
	r7 = String___add__(r7,r1);
	r6 = true;
	r11 = &r6;
	r9 = hxd_Save_load(((vdynamic*)r10),r7,r11);
	r10 = hl_to_virtual(&t$vrt_9b9728c,(vdynamic*)r9);
	r4 = r10;
	goto label$eb91429_4_34;
	label$eb91429_4_23:
	r13 = ($Main)g$_Main;
	r12 = r13->console;
	if( r12 == NULL ) hl_null_access();
	r7 = (String)s$Track_load_error_;
	r7 = String___add__(r7,r1);
	r8 = (String)s$_directory_file_not_found_;
	r7 = String___add__(r7,r8);
	r3 = 16711680;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r3;
	h2d_Console_log(((h2d__Console)r12),r7,r14);
	return;
	label$eb91429_4_34:
	goto label$eb91429_4_85;
	label$eb91429_4_35:
	r7 = (String)s$_saves_;
	r7 = String___add__(r7,r1);
	r15 = sys_FileSystem_readDirectory(r7);
	if( r15 == NULL ) hl_null_access();
	r3 = r15->length;
	r17 = 0;
	if( r3 != r17 ) goto label$eb91429_4_53;
	r13 = ($Main)g$_Main;
	r12 = r13->console;
	if( r12 == NULL ) hl_null_access();
	r7 = (String)s$9d66bff;
	r7 = String___add__(r7,r1);
	r8 = (String)s$_directory;
	r7 = String___add__(r7,r8);
	r3 = 16711680;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r3;
	h2d_Console_log(((h2d__Console)r12),r7,r14);
	return;
	label$eb91429_4_53:
	hl_types_ArrayObj_reverse(r15);
	r10 = NULL;
	r7 = (String)s$_saves_;
	r7 = String___add__(r7,r1);
	r8 = (String)s$6666cd7;
	r7 = String___add__(r7,r8);
	r3 = r2 ? r2->v.i : 0;
	r17 = r15->length;
	if( ((unsigned)r3) < ((unsigned)r17) ) goto label$eb91429_4_64;
	r8 = NULL;
	goto label$eb91429_4_67;
	label$eb91429_4_64:
	r18 = r15->array;
	r9 = ((vdynamic**)(r18 + 1))[r3];
	r8 = (String)r9;
	label$eb91429_4_67:
	if( r8 == NULL ) hl_null_access();
	r19 = (String)s$_sav;
	r16 = String_split(r8,r19);
	if( r16 == NULL ) hl_null_access();
	r3 = 0;
	r17 = r16->length;
	if( ((unsigned)r3) < ((unsigned)r17) ) goto label$eb91429_4_76;
	r8 = NULL;
	goto label$eb91429_4_79;
	label$eb91429_4_76:
	r18 = r16->array;
	r9 = ((vdynamic**)(r18 + 1))[r3];
	r8 = (String)r9;
	label$eb91429_4_79:
	r7 = String___add__(r7,r8);
	r20 = true;
	r11 = &r20;
	r9 = hxd_Save_load(((vdynamic*)r10),r7,r11);
	r10 = hl_to_virtual(&t$vrt_9b9728c,(vdynamic*)r9);
	r4 = r10;
	label$eb91429_4_85:
	if( r10 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[2] ? (*(String*)(hl_vfields(r10)[2])) : (String)hl_dyn_getp(r10->value,150958933/*name*/,&t$String);
	r13 = ($Main)g$_Main;
	r13->trackName = r7;
	r7 = hl_vfields(r10)[0] ? (*(String*)(hl_vfields(r10)[0])) : (String)hl_dyn_getp(r10->value,326888474/*author*/,&t$String);
	r13 = ($Main)g$_Main;
	r13->authorName = r7;
	r7 = hl_vfields(r10)[4] ? (*(String*)(hl_vfields(r10)[4])) : (String)hl_dyn_getp(r10->value,207103199/*song*/,&t$String);
	if( !r7 ) goto label$eb91429_4_99;
	r13 = ($Main)g$_Main;
	r21 = r13->audio;
	if( r21 == NULL ) hl_null_access();
	r7 = hl_vfields(r10)[4] ? (*(String*)(hl_vfields(r10)[4])) : (String)hl_dyn_getp(r10->value,207103199/*song*/,&t$String);
	components_managers_Musicplayer_loadAudio(r21,r7);
	label$eb91429_4_99:
	r3 = 0;
	r15 = hl_vfields(r10)[1] ? (*(hl__types__ArrayObj*)(hl_vfields(r10)[1])) : (hl__types__ArrayObj)hl_dyn_getp(r10->value,352444302/*lines*/,&t$hl_types_ArrayObj);
	label$eb91429_4_101:
	if( r15 == NULL ) hl_null_access();
	r22 = r15->length;
	if( r3 >= r22 ) goto label$eb91429_4_135;
	r22 = r15->length;
	if( ((unsigned)r3) < ((unsigned)r22) ) goto label$eb91429_4_109;
	r23 = NULL;
	goto label$eb91429_4_112;
	label$eb91429_4_109:
	r18 = r15->array;
	r9 = ((vdynamic**)(r18 + 1))[r3];
	r23 = hl_to_virtual(&t$vrt_f776906,(vdynamic*)r9);
	label$eb91429_4_112:
	++r3;
	r13 = ($Main)g$_Main;
	r24 = r13->canvas;
	if( r24 == NULL ) hl_null_access();
	if( r23 == NULL ) hl_null_access();
	r17 = hl_vfields(r23)[3] ? (*(int*)(hl_vfields(r23)[3])) : (int)hl_dyn_geti(r23->value,-10939617/*linetype*/,&t$_i32);
	r26 = hl_vfields(r23)[4] ? (*(h2d__col__Point*)(hl_vfields(r23)[4])) : (h2d__col__Point)hl_dyn_getp(r23->value,-492401522/*startPoint*/,&t$h2d_col_Point);
	if( r26 == NULL ) hl_null_access();
	r25 = r26->x;
	r26 = hl_vfields(r23)[4] ? (*(h2d__col__Point*)(hl_vfields(r23)[4])) : (h2d__col__Point)hl_dyn_getp(r23->value,-492401522/*startPoint*/,&t$h2d_col_Point);
	if( r26 == NULL ) hl_null_access();
	r27 = r26->y;
	r26 = hl_vfields(r23)[0] ? (*(h2d__col__Point*)(hl_vfields(r23)[0])) : (h2d__col__Point)hl_dyn_getp(r23->value,-460503568/*endPoint*/,&t$h2d_col_Point);
	if( r26 == NULL ) hl_null_access();
	r28 = r26->x;
	r26 = hl_vfields(r23)[0] ? (*(h2d__col__Point*)(hl_vfields(r23)[0])) : (h2d__col__Point)hl_dyn_getp(r23->value,-460503568/*endPoint*/,&t$h2d_col_Point);
	if( r26 == NULL ) hl_null_access();
	r29 = r26->y;
	r30 = hl_vfields(r23)[1] ? (*(bool*)(hl_vfields(r23)[1])) : (bool)hl_dyn_geti(r23->value,-181292811/*inverted*/,&t$_bool);
	r31 = hl_alloc_dynbool(r30);
	r14 = NULL;
	components_stage_Canvas_addLine(r24,r17,r25,r27,r28,r29,r31,r14);
	goto label$eb91429_4_101;
	label$eb91429_4_135:
	r3 = 0;
	if( r4 == NULL ) hl_null_access();
	r15 = hl_vfields(r4)[3] ? (*(hl__types__ArrayObj*)(hl_vfields(r4)[3])) : (hl__types__ArrayObj)hl_dyn_getp(r4->value,203975107/*riders*/,&t$hl_types_ArrayObj);
	label$eb91429_4_138:
	if( r15 == NULL ) hl_null_access();
	r22 = r15->length;
	if( r3 >= r22 ) goto label$eb91429_4_174;
	r22 = r15->length;
	if( ((unsigned)r3) < ((unsigned)r22) ) goto label$eb91429_4_146;
	r32 = NULL;
	goto label$eb91429_4_149;
	label$eb91429_4_146:
	r18 = r15->array;
	r9 = ((vdynamic**)(r18 + 1))[r3];
	r32 = hl_to_virtual(&t$vrt_9af152f,(vdynamic*)r9);
	label$eb91429_4_149:
	++r3;
	r13 = ($Main)g$_Main;
	r33 = r13->riders;
	if( r33 == NULL ) hl_null_access();
	if( r32 == NULL ) hl_null_access();
	r7 = hl_vfields(r32)[2] ? (*(String*)(hl_vfields(r32)[2])) : (String)hl_dyn_getp(r32->value,150958933/*name*/,&t$String);
	r26 = hl_vfields(r32)[4] ? (*(h2d__col__Point*)(hl_vfields(r32)[4])) : (h2d__col__Point)hl_dyn_getp(r32->value,-492401522/*startPoint*/,&t$h2d_col_Point);
	r14 = hl_vfields(r32)[3] ? (*(vdynamic**)(hl_vfields(r32)[3])) : (vdynamic*)hl_dyn_getp(r32->value,43667696/*startFrame*/,&t$nul_i32);
	r34 = hl_vfields(r32)[5] ? (*(vdynamic**)(hl_vfields(r32)[5])) : (vdynamic*)hl_dyn_getp(r32->value,382054603/*stopFrame*/,&t$nul_i32);
	components_managers_Riders_addNewRider(r33,r7,r26,r14,r34);
	r13 = ($Main)g$_Main;
	r33 = r13->riders;
	if( r33 == NULL ) hl_null_access();
	r35 = r33->riders;
	if( r35 == NULL ) hl_null_access();
	r7 = hl_vfields(r32)[2] ? (*(String*)(hl_vfields(r32)[2])) : (String)hl_dyn_getp(r32->value,150958933/*name*/,&t$String);
	r9 = haxe_ds_StringMap_get(r35,r7);
	r36 = (components__sledder__RiderBase)r9;
	if( r36 == NULL ) hl_null_access();
	r17 = hl_vfields(r32)[0] ? (*(int*)(hl_vfields(r32)[0])) : (int)hl_dyn_geti(r32->value,-427375335/*colora*/,&t$_i32);
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r17;
	r17 = hl_vfields(r32)[1] ? (*(int*)(hl_vfields(r32)[1])) : (int)hl_dyn_geti(r32->value,-427375334/*colorb*/,&t$_i32);
	r34 = hl_alloc_dynamic(&t$_i32);
	r34->v.i = r17;
	components_sledder_RiderBase_setColor(r36,r14,r34);
	goto label$eb91429_4_138;
	label$eb91429_4_174:
	return;
}

void file_SaveLoad_loadJSON(file__SaveLoad r0,String r1) {
	components__managers__Riders r11;
	String r4, r5;
	haxe__io__Bytes r7;
	bool r3;
	haxe__format__JsonParser r8;
	$Main r10;
	h2d__col__Point r12;
	components__stage__Canvas r22;
	double r23, r24, r25, r26;
	hl__types__ArrayDyn r17;
	double *r13, *r14;
	vdynamic *r6, *r9, *r15, *r16, *r21, *r27;
	int r18, r19, r20;
	r4 = (String)s$_saves_;
	r4 = String___add__(r4,r1);
	r5 = (String)s$_json;
	r4 = String___add__(r4,r5);
	r3 = sys_FileSystem_exists(r4);
	if( r3 ) goto label$eb91429_5_7;
	return;
	label$eb91429_5_7:
	r4 = (String)s$_saves_;
	r4 = String___add__(r4,r1);
	r5 = (String)s$_json;
	r4 = String___add__(r4,r5);
	r7 = sys_io_File_getBytes(r4);
	if( r7 == NULL ) hl_null_access();
	r4 = haxe_io_Bytes_toString(r7);
	r8 = (haxe__format__JsonParser)hl_alloc_obj(&t$haxe_format_JsonParser);
	haxe_format_JsonParser_new(r8,r4);
	r6 = haxe_format_JsonParser_doParse(r8);
	if( r6 == NULL ) hl_null_access();
	r9 = (vdynamic*)hl_dyn_getp((vdynamic*)r6,263131011/*label*/,&t$_dyn);
	r5 = (String)hl_dyn_castp(&r9,&t$_dyn,&t$String);
	r10 = ($Main)g$_Main;
	r10->trackName = r5;
	r9 = (vdynamic*)hl_dyn_getp((vdynamic*)r6,292208300/*creator*/,&t$_dyn);
	r5 = (String)hl_dyn_castp(&r9,&t$_dyn,&t$String);
	r10 = ($Main)g$_Main;
	r10->authorName = r5;
	r10 = ($Main)g$_Main;
	r11 = r10->riders;
	if( r11 == NULL ) hl_null_access();
	r5 = (String)s$Bosh;
	r12 = (h2d__col__Point)hl_alloc_obj(&t$h2d_col_Point);
	r9 = (vdynamic*)hl_dyn_getp((vdynamic*)r6,-273284442/*startPosition*/,&t$_dyn);
	if( r9 == NULL ) hl_null_access();
	r9 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,120/*x*/,&t$_dyn);
	r13 = (double*)hl_dyn_castp(&r9,&t$_dyn,&t$ref_f64);
	r9 = (vdynamic*)hl_dyn_getp((vdynamic*)r6,-273284442/*startPosition*/,&t$_dyn);
	if( r9 == NULL ) hl_null_access();
	r9 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,121/*y*/,&t$_dyn);
	r14 = (double*)hl_dyn_castp(&r9,&t$_dyn,&t$ref_f64);
	h2d_col_Point_new(r12,r13,r14);
	r15 = NULL;
	r16 = NULL;
	components_managers_Riders_addNewRider(r11,r5,r12,r15,r16);
	r9 = (vdynamic*)hl_dyn_getp((vdynamic*)r6,352444302/*lines*/,&t$_dyn);
	r17 = (hl__types__ArrayDyn)hl_dyn_castp(&r9,&t$_dyn,&t$hl_types_ArrayDyn);
	if( r17 == NULL ) hl_null_access();
	hl_types_ArrayDyn_reverse(r17);
	r18 = 0;
	label$eb91429_5_48:
	if( r17 == NULL ) hl_null_access();
	r20 = hl_types_ArrayDyn_get_length(r17);
	if( r18 >= r20 ) goto label$eb91429_5_109;
	r9 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r17->$type->vobj_proto[0])(r17,r18);
	++r18;
	r19 = -1;
	if( r9 == NULL ) hl_null_access();
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,-501582255/*leftExtended*/,&t$_dyn);
	r3 = (bool)hl_dyn_casti(&r21,&t$_dyn,&t$_bool);
	if( r3 ) goto label$eb91429_5_65;
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,249944511/*rightExtended*/,&t$_dyn);
	r3 = (bool)hl_dyn_casti(&r21,&t$_dyn,&t$_bool);
	if( r3 ) goto label$eb91429_5_65;
	r20 = 0;
	r19 = r20;
	goto label$eb91429_5_91;
	label$eb91429_5_65:
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,-501582255/*leftExtended*/,&t$_dyn);
	r3 = (bool)hl_dyn_casti(&r21,&t$_dyn,&t$_bool);
	if( !r3 ) goto label$eb91429_5_74;
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,249944511/*rightExtended*/,&t$_dyn);
	r3 = (bool)hl_dyn_casti(&r21,&t$_dyn,&t$_bool);
	if( r3 ) goto label$eb91429_5_74;
	r20 = 1;
	r19 = r20;
	goto label$eb91429_5_91;
	label$eb91429_5_74:
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,-501582255/*leftExtended*/,&t$_dyn);
	r3 = (bool)hl_dyn_casti(&r21,&t$_dyn,&t$_bool);
	if( r3 ) goto label$eb91429_5_83;
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,249944511/*rightExtended*/,&t$_dyn);
	r3 = (bool)hl_dyn_casti(&r21,&t$_dyn,&t$_bool);
	if( !r3 ) goto label$eb91429_5_83;
	r20 = 2;
	r19 = r20;
	goto label$eb91429_5_91;
	label$eb91429_5_83:
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,-501582255/*leftExtended*/,&t$_dyn);
	r3 = (bool)hl_dyn_casti(&r21,&t$_dyn,&t$_bool);
	if( !r3 ) goto label$eb91429_5_91;
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,249944511/*rightExtended*/,&t$_dyn);
	r3 = (bool)hl_dyn_casti(&r21,&t$_dyn,&t$_bool);
	if( !r3 ) goto label$eb91429_5_91;
	r20 = 3;
	r19 = r20;
	label$eb91429_5_91:
	r10 = ($Main)g$_Main;
	r22 = r10->canvas;
	if( r22 == NULL ) hl_null_access();
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,218690500/*type*/,&t$_dyn);
	r20 = (int)hl_dyn_casti(&r21,&t$_dyn,&t$_i32);
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,26809/*x1*/,&t$_dyn);
	r23 = (double)hl_dyn_castd(&r21,&t$_dyn);
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,27032/*y1*/,&t$_dyn);
	r24 = (double)hl_dyn_castd(&r21,&t$_dyn);
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,26810/*x2*/,&t$_dyn);
	r25 = (double)hl_dyn_castd(&r21,&t$_dyn);
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,27033/*y2*/,&t$_dyn);
	r26 = (double)hl_dyn_castd(&r21,&t$_dyn);
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,529034705/*flipped*/,&t$_dyn);
	r27 = (vdynamic*)hl_dyn_castp(&r21,&t$_dyn,&t$nul_bool);
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r19;
	components_stage_Canvas_addLine(r22,r20,r23,r24,r25,r26,r27,r15);
	goto label$eb91429_5_48;
	label$eb91429_5_109:
	return;
}

void file_SaveLoad_saveUserInfo(file__SaveLoad r0) {
	bool *r6;
	String r2;
	vvirtual *r1;
	bool r5;
	$Main r3;
	r1 = hl_alloc_virtual(&t$vrt_45af8a6);
	r3 = ($Main)g$_Main;
	r2 = r3->authorName;
	if( hl_vfields(r1)[0] ) *(String*)(hl_vfields(r1)[0]) = (String)r2; else hl_dyn_setp(r1->value,150958933/*name*/,&t$String,r2);
	r2 = (String)s$playerdata;
	r5 = true;
	r6 = &r5;
	r5 = hxd_Save_save(((vdynamic*)r1),r2,r6);
	return;
}

void file_SaveLoad_loadUserInfo(file__SaveLoad r0) {
	bool *r5;
	String r3;
	vvirtual *r2;
	bool r4;
	$Main r7;
	vdynamic *r1;
	r2 = NULL;
	r3 = (String)s$playerdata;
	r4 = true;
	r5 = &r4;
	r1 = hxd_Save_load(((vdynamic*)r2),r3,r5);
	r2 = hl_to_virtual(&t$vrt_45af8a6,(vdynamic*)r1);
	if( !r2 ) goto label$eb91429_7_11;
	if( r2 == NULL ) hl_null_access();
	r3 = hl_vfields(r2)[0] ? (*(String*)(hl_vfields(r2)[0])) : (String)hl_dyn_getp(r2->value,150958933/*name*/,&t$String);
	r7 = ($Main)g$_Main;
	r7->authorName = r3;
	label$eb91429_7_11:
	return;
}

