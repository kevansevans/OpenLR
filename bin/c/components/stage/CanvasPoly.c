// Generated by HLC 4.1.4 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <components/stage/CanvasPoly.h>
#include <h3d/col/Point.h>
#include <hxd/res/Loader.h>
#include <h3d/mat/Texture.h>
#include <hxd/res/Resource.h>
#include <hxd/res/Image.h>
void h3d_scene_Object_new(h3d__scene__Object,h3d__scene__Object);
extern hl_type t$h3d_prim_Quads;
extern hl_type t$h3d_col_Point;
#include <hl/natives.h>
void h3d_col_Point_new(h3d__col__Point,double*,double*,double*);
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
void h3d_prim_Quads_new(h3d__prim__Quads,hl__types__ArrayObj,hl__types__ArrayObj,hl__types__ArrayObj);
void h3d_prim_Quads_addNormals(h3d__prim__Quads);
void h3d_prim_Quads_addUVs(h3d__prim__Quads);
hxd__res__Loader hxd_Res_get_loader(void);
extern String s$lines_black_png;
extern hxd__res__$Image g$_hxd_res_Image;
hxd__res__Resource hxd_res_Loader_loadCache(hxd__res__Loader,String,hl__Class);
h3d__mat__Texture hxd_res_Image_toTexture(hxd__res__Image);
h3d__mat__Material h3d_mat_Material_create(h3d__mat__Texture);
extern hl_type t$h3d_scene_Mesh;
#include <h3d/prim/Primitive.h>
void h3d_scene_Mesh_new(h3d__scene__Mesh,h3d__prim__Primitive,h3d__mat__Material,h3d__scene__Object);

void components_stage_CanvasPoly_new(components__stage__CanvasPoly r0) {
	String r30;
	hl__types__ArrayObj r4, r24, r25;
	hxd__res__Resource r29;
	hl_type *r6;
	h3d__mat__Material r27;
	h3d__scene__Mesh r33;
	hxd__res__Loader r26;
	h3d__prim__Quads r3;
	hxd__res__$Image r31;
	double r9, r11, r13, r15, r16, r17, r18, r19, r20, r21, r22, r23;
	h3d__col__Point r8;
	hxd__res__Image r32;
	double *r10, *r12, *r14;
	h3d__mat__Texture r28;
	int r7;
	varray *r5;
	h3d__scene__Object r2;
	r2 = NULL;
	h3d_scene_Object_new(((h3d__scene__Object)r0),r2);
	r3 = (h3d__prim__Quads)hl_alloc_obj(&t$h3d_prim_Quads);
	r6 = &t$h3d_col_Point;
	r7 = 4;
	r5 = hl_alloc_array(r6,r7);
	r8 = (h3d__col__Point)hl_alloc_obj(&t$h3d_col_Point);
	r7 = 10;
	r9 = (double)r7;
	r10 = &r9;
	r7 = -1;
	r11 = (double)r7;
	r12 = &r11;
	r7 = 20;
	r13 = (double)r7;
	r14 = &r13;
	h3d_col_Point_new(r8,r10,r12,r14);
	r7 = 0;
	((h3d__col__Point*)(r5 + 1))[r7] = r8;
	r8 = (h3d__col__Point)hl_alloc_obj(&t$h3d_col_Point);
	r7 = 10;
	r15 = (double)r7;
	r10 = &r15;
	r7 = -1;
	r16 = (double)r7;
	r12 = &r16;
	r7 = 20;
	r17 = (double)r7;
	r14 = &r17;
	h3d_col_Point_new(r8,r10,r12,r14);
	r7 = 1;
	((h3d__col__Point*)(r5 + 1))[r7] = r8;
	r8 = (h3d__col__Point)hl_alloc_obj(&t$h3d_col_Point);
	r7 = 10;
	r18 = (double)r7;
	r10 = &r18;
	r7 = -1;
	r19 = (double)r7;
	r12 = &r19;
	r7 = 20;
	r20 = (double)r7;
	r14 = &r20;
	h3d_col_Point_new(r8,r10,r12,r14);
	r7 = 2;
	((h3d__col__Point*)(r5 + 1))[r7] = r8;
	r8 = (h3d__col__Point)hl_alloc_obj(&t$h3d_col_Point);
	r7 = 10;
	r21 = (double)r7;
	r10 = &r21;
	r7 = -1;
	r22 = (double)r7;
	r12 = &r22;
	r7 = 20;
	r23 = (double)r7;
	r14 = &r23;
	h3d_col_Point_new(r8,r10,r12,r14);
	r7 = 3;
	((h3d__col__Point*)(r5 + 1))[r7] = r8;
	r4 = hl_types_ArrayObj_alloc(r5);
	r24 = NULL;
	r25 = NULL;
	h3d_prim_Quads_new(r3,r4,r24,r25);
	r0->quadTest = r3;
	r3 = r0->quadTest;
	if( r3 == NULL ) hl_null_access();
	h3d_prim_Quads_addNormals(r3);
	r3 = r0->quadTest;
	if( r3 == NULL ) hl_null_access();
	h3d_prim_Quads_addUVs(r3);
	r26 = hxd_Res_get_loader();
	if( r26 == NULL ) hl_null_access();
	r30 = (String)s$lines_black_png;
	r31 = (hxd__res__$Image)g$_hxd_res_Image;
	r29 = hxd_res_Loader_loadCache(r26,r30,((hl__Class)r31));
	r32 = (hxd__res__Image)r29;
	if( r32 == NULL ) hl_null_access();
	r28 = hxd_res_Image_toTexture(r32);
	r27 = h3d_mat_Material_create(r28);
	r0->lineMatertial = r27;
	r33 = (h3d__scene__Mesh)hl_alloc_obj(&t$h3d_scene_Mesh);
	r3 = r0->quadTest;
	r27 = r0->lineMatertial;
	h3d_scene_Mesh_new(r33,((h3d__prim__Primitive)r3),r27,((h3d__scene__Object)r0));
	r0->meshTest = r33;
	return;
}

