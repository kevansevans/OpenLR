// Generated by HLC 4.1.4 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <components/stage/TextInfo.h>
#include <h2d/Font.h>
#include <h2d/Object.h>
#include <h3d/Vector.h>
extern hl_type t$h2d_Text;
h2d__Font hxd_res_DefaultFont_get(void);
void h2d_Text_new(h2d__Text,h2d__Font,h2d__Object);
extern hl_type t$h3d_Vector;
void h3d_Vector_new(h3d__Vector,double*,double*,double*,double*);
#include <_std/Main.h>
#include <components/managers/Simulation.h>
extern $Main g$_Main;
extern String s$Untitled;
extern String s$f910c9f;
#include <hl/natives.h>
String String___alloc__(vbyte*,int);
String String___add__(String,String);
extern String s$FPS_;
extern String s$;
String components_stage_TextInfo_timeStamp(components__stage__TextInfo,int);
String components_stage_TextInfo_getSimState(components__stage__TextInfo);
extern String s$68b329d;
extern String s$0_0;
extern String s$0_;
extern String s$853ae90;
extern String s$0;
extern String s$336d5eb;
extern String s$Rewinding;
extern String s$Stopped;
extern String s$Playing;
extern String s$Paused;
extern String s$lousy_smarch_weather;

void components_stage_TextInfo_new(components__stage__TextInfo r0) {
	h2d__Object r3;
	h2d__Font r2;
	h2d__Text r1;
	h3d__Vector r5;
	double r6, r8, r10;
	double *r7, *r9, *r11, *r12;
	r1 = (h2d__Text)hl_alloc_obj(&t$h2d_Text);
	r2 = hxd_res_DefaultFont_get();
	r3 = NULL;
	h2d_Text_new(r1,r2,r3);
	r0->info = r1;
	r1 = r0->info;
	if( r1 == NULL ) hl_null_access();
	r5 = (h3d__Vector)hl_alloc_obj(&t$h3d_Vector);
	r6 = 0.20000000000000001;
	r7 = &r6;
	r8 = 0.20000000000000001;
	r9 = &r8;
	r10 = 0.20000000000000001;
	r11 = &r10;
	r12 = NULL;
	h3d_Vector_new(r5,r7,r9,r11,r12);
	r1->color = r5;
	return;
}

void components_stage_TextInfo_update(components__stage__TextInfo r0) {
	String r1, r4, r10;
	$Main r3;
	h2d__Text r2;
	components__managers__Simulation r12;
	double r6, r7;
	int *r8;
	vbyte *r9;
	int r5;
	r2 = r0->info;
	if( r2 == NULL ) hl_null_access();
	r3 = ($Main)g$_Main;
	r1 = r3->trackName;
	if( r1 ) goto label$47952d5_2_7;
	r1 = (String)s$Untitled;
	goto label$47952d5_2_9;
	label$47952d5_2_7:
	r3 = ($Main)g$_Main;
	r1 = r3->trackName;
	label$47952d5_2_9:
	r4 = (String)s$f910c9f;
	r6 = 1.;
	r7 = r0->framerate;
	r6 = r6 / r7;
	r5 = hl_math_floor(r6);
	r8 = &r5;
	r9 = hl_itos(r5,r8);
	r10 = String___alloc__(r9,r5);
	r4 = String___add__(r4,r10);
	r10 = (String)s$FPS_;
	r4 = String___add__(r4,r10);
	r1 = String___add__(r1,r4);
	r1 = ((String (*)(h2d__Text,String))r2->$type->vobj_proto[16])(r2,r1);
	r2 = r0->info;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->text;
	r4 = (String)s$;
	r3 = ($Main)g$_Main;
	r12 = r3->simulation;
	if( r12 == NULL ) hl_null_access();
	r5 = r12->frames;
	r10 = components_stage_TextInfo_timeStamp(r0,r5);
	r4 = String___add__(r4,r10);
	r10 = (String)s$f910c9f;
	r4 = String___add__(r4,r10);
	r10 = components_stage_TextInfo_getSimState(r0);
	r4 = String___add__(r4,r10);
	r10 = (String)s$68b329d;
	r4 = String___add__(r4,r10);
	r1 = String___add__(r1,r4);
	r1 = ((String (*)(h2d__Text,String))r2->$type->vobj_proto[16])(r2,r1);
	return;
}

String components_stage_TextInfo_timeStamp(components__stage__TextInfo r0,int r1) {
	String r12, r14, r17, r18;
	bool r2, r6;
	int *r15;
	vbyte *r16;
	int r3, r4, r5, r7, r8, r9, r10, r11, r13;
	r2 = false;
	r3 = r1;
	r5 = 0;
	if( r1 >= r5 ) goto label$47952d5_3_9;
	r6 = true;
	r2 = r6;
	r5 = -1;
	r4 = r1 * r5;
	r3 = r4;
	label$47952d5_3_9:
	r5 = 40;
	r4 = r5 == 0 ? 0 : r3 / r5;
	r7 = 60;
	r5 = r7 == 0 ? 0 : r4 / r7;
	r8 = 60;
	r7 = r8 == 0 ? 0 : r5 / r8;
	r9 = 40;
	r8 = r9 == 0 ? 0 : r3 % r9;
	r10 = 60;
	r9 = r10 == 0 ? 0 : r4 % r10;
	r11 = 60;
	r10 = r11 == 0 ? 0 : r5 % r11;
	r12 = (String)s$;
	r13 = 40;
	if( r3 >= r13 ) goto label$47952d5_3_41;
	r13 = 10;
	if( r3 >= r13 ) goto label$47952d5_3_33;
	r14 = (String)s$0_0;
	r11 = r3;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r17 = String___alloc__(r16,r11);
	r14 = String___add__(r14,r17);
	goto label$47952d5_3_39;
	label$47952d5_3_33:
	r14 = (String)s$0_;
	r11 = r3;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r17 = String___alloc__(r16,r11);
	r14 = String___add__(r14,r17);
	label$47952d5_3_39:
	r12 = r14;
	goto label$47952d5_3_181;
	label$47952d5_3_41:
	r13 = 40;
	if( r3 < r13 ) goto label$47952d5_3_74;
	r13 = 60;
	if( r4 >= r13 ) goto label$47952d5_3_74;
	r13 = 10;
	if( r8 >= r13 ) goto label$47952d5_3_61;
	r11 = r4;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r14 = String___alloc__(r16,r11);
	r17 = (String)s$853ae90;
	r14 = String___add__(r14,r17);
	r17 = (String)s$0;
	r14 = String___add__(r14,r17);
	r11 = r8;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r17 = String___alloc__(r16,r11);
	r14 = String___add__(r14,r17);
	goto label$47952d5_3_72;
	label$47952d5_3_61:
	r11 = r4;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r14 = String___alloc__(r16,r11);
	r17 = (String)s$853ae90;
	r14 = String___add__(r14,r17);
	r11 = r8;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r17 = String___alloc__(r16,r11);
	r14 = String___add__(r14,r17);
	label$47952d5_3_72:
	r12 = r14;
	goto label$47952d5_3_181;
	label$47952d5_3_74:
	r13 = 60;
	if( r4 < r13 ) goto label$47952d5_3_120;
	r13 = 60;
	if( r5 >= r13 ) goto label$47952d5_3_120;
	r11 = r5;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r14 = String___alloc__(r16,r11);
	r17 = (String)s$853ae90;
	r14 = String___add__(r14,r17);
	r13 = 10;
	if( r9 >= r13 ) goto label$47952d5_3_93;
	r17 = (String)s$0;
	r11 = r9;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r18 = String___alloc__(r16,r11);
	r17 = String___add__(r17,r18);
	goto label$47952d5_3_99;
	label$47952d5_3_93:
	r17 = (String)s$;
	r11 = r9;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r18 = String___alloc__(r16,r11);
	r17 = String___add__(r17,r18);
	label$47952d5_3_99:
	r14 = String___add__(r14,r17);
	r17 = (String)s$853ae90;
	r14 = String___add__(r14,r17);
	r13 = 10;
	if( r8 >= r13 ) goto label$47952d5_3_111;
	r17 = (String)s$0;
	r11 = r8;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r18 = String___alloc__(r16,r11);
	r17 = String___add__(r17,r18);
	goto label$47952d5_3_117;
	label$47952d5_3_111:
	r17 = (String)s$;
	r11 = r8;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r18 = String___alloc__(r16,r11);
	r17 = String___add__(r17,r18);
	label$47952d5_3_117:
	r14 = String___add__(r14,r17);
	r12 = r14;
	goto label$47952d5_3_181;
	label$47952d5_3_120:
	r13 = 60;
	if( r5 < r13 ) goto label$47952d5_3_181;
	r11 = r7;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r14 = String___alloc__(r16,r11);
	r17 = (String)s$853ae90;
	r14 = String___add__(r14,r17);
	r13 = 10;
	if( r5 >= r13 ) goto label$47952d5_3_137;
	r17 = (String)s$0;
	r11 = r10;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r18 = String___alloc__(r16,r11);
	r17 = String___add__(r17,r18);
	goto label$47952d5_3_143;
	label$47952d5_3_137:
	r17 = (String)s$;
	r11 = r10;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r18 = String___alloc__(r16,r11);
	r17 = String___add__(r17,r18);
	label$47952d5_3_143:
	r14 = String___add__(r14,r17);
	r17 = (String)s$853ae90;
	r14 = String___add__(r14,r17);
	r13 = 10;
	if( r9 >= r13 ) goto label$47952d5_3_155;
	r17 = (String)s$0;
	r11 = r9;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r18 = String___alloc__(r16,r11);
	r17 = String___add__(r17,r18);
	goto label$47952d5_3_161;
	label$47952d5_3_155:
	r17 = (String)s$;
	r11 = r9;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r18 = String___alloc__(r16,r11);
	r17 = String___add__(r17,r18);
	label$47952d5_3_161:
	r14 = String___add__(r14,r17);
	r17 = (String)s$853ae90;
	r14 = String___add__(r14,r17);
	r13 = 10;
	if( r8 >= r13 ) goto label$47952d5_3_173;
	r17 = (String)s$0;
	r11 = r8;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r18 = String___alloc__(r16,r11);
	r17 = String___add__(r17,r18);
	goto label$47952d5_3_179;
	label$47952d5_3_173:
	r17 = (String)s$;
	r11 = r8;
	r15 = &r11;
	r16 = hl_itos(r11,r15);
	r18 = String___alloc__(r16,r11);
	r17 = String___add__(r17,r18);
	label$47952d5_3_179:
	r14 = String___add__(r14,r17);
	r12 = r14;
	label$47952d5_3_181:
	if( !r2 ) goto label$47952d5_3_185;
	r14 = (String)s$336d5eb;
	r14 = String___add__(r14,r12);
	r12 = r14;
	label$47952d5_3_185:
	return r12;
}

String components_stage_TextInfo_getSimState(components__stage__TextInfo r0) {
	String r4;
	bool r3;
	$Main r2;
	components__managers__Simulation r1;
	r2 = ($Main)g$_Main;
	r1 = r2->simulation;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->rewinding;
	if( !r3 ) goto label$47952d5_4_7;
	r4 = (String)s$Rewinding;
	return r4;
	label$47952d5_4_7:
	r3 = r1->playing;
	if( r3 ) goto label$47952d5_4_15;
	r3 = r1->paused;
	if( r3 ) goto label$47952d5_4_15;
	r3 = r1->rewinding;
	if( r3 ) goto label$47952d5_4_15;
	r4 = (String)s$Stopped;
	return r4;
	label$47952d5_4_15:
	r3 = r1->playing;
	if( !r3 ) goto label$47952d5_4_23;
	r3 = r1->paused;
	if( r3 ) goto label$47952d5_4_23;
	r3 = r1->rewinding;
	if( r3 ) goto label$47952d5_4_23;
	r4 = (String)s$Playing;
	return r4;
	label$47952d5_4_23:
	r3 = r1->paused;
	if( !r3 ) goto label$47952d5_4_29;
	r3 = r1->rewinding;
	if( r3 ) goto label$47952d5_4_29;
	r4 = (String)s$Paused;
	return r4;
	label$47952d5_4_29:
	r4 = (String)s$lousy_smarch_weather;
	return r4;
}

