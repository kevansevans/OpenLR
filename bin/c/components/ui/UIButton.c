// Generated by HLC 4.1.5 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <components/ui/UIButton.h>
#include <hxd/Event.h>
bool h2d_Object_set_visible(h2d__Object,bool);
#include <components/ui/Icon.h>
#include <h2d/Tile.h>
#include <hxd/res/Loader.h>
#include <hxd/res/Resource.h>
#include <hxd/res/Image.h>
#include <h2d/col/Point.h>
extern hl_type t$fun_7b48b4f;
extern hl_type t$fun_b4832bf;
void h2d_Object_new(h2d__Object,h2d__Object);
extern hl_type t$h2d_Bitmap;
extern hl_type t$_i32;
h2d__Tile h2d_Tile_fromColor(int,vdynamic*,vdynamic*,vdynamic*);
void h2d_Bitmap_new(h2d__Bitmap,h2d__Tile,h2d__Object);
hxd__res__Loader hxd_Res_get_loader(void);
extern String s$icon_pencil_png;
extern hxd__res__$Image g$_hxd_res_Image;
hxd__res__Resource hxd_res_Loader_loadCache(hxd__res__Loader,String,hl__Class);
h2d__Tile hxd_res_Image_toTile(hxd__res__Image);
extern String s$icon_line_png;
extern String s$icon_eraser_png;
extern hl_type t$h2d_Interactive;
void h2d_Interactive_new(h2d__Interactive,double,double,h2d__Object,vvirtual*);
extern hl_type t$fun_697add5;

void components_ui_UIButton_new__$2(components__ui__UIButton r0,hxd__Event r1) {
	bool r2;
	h2d__Bitmap r3;
	if( r0 == NULL ) hl_null_access();
	r3 = r0->btn_up;
	if( r3 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	r3 = r0->btn_down;
	if( r3 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	r3 = r0->btn_selected;
	if( r3 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	r3 = r0->btn_over;
	if( r3 == NULL ) hl_null_access();
	r2 = true;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	return;
}

void components_ui_UIButton_new__$3(components__ui__UIButton r0,hxd__Event r1) {
	bool r2;
	h2d__Bitmap r3;
	if( r0 == NULL ) hl_null_access();
	r3 = r0->btn_up;
	if( r3 == NULL ) hl_null_access();
	r2 = true;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	r3 = r0->btn_down;
	if( r3 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	r3 = r0->btn_over;
	if( r3 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	r2 = r0->selected;
	if( r2 ) goto label$7800334_2_20;
	r3 = r0->btn_selected;
	if( r3 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	goto label$7800334_2_24;
	label$7800334_2_20:
	r3 = r0->btn_selected;
	if( r3 == NULL ) hl_null_access();
	r2 = true;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	label$7800334_2_24:
	return;
}

void components_ui_UIButton_new__$4(components__ui__UIButton r0,hxd__Event r1) {
	bool r2;
	vclosure *r5;
	h2d__Bitmap r3;
	if( r0 == NULL ) hl_null_access();
	r3 = r0->btn_up;
	if( r3 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	r3 = r0->btn_down;
	if( r3 == NULL ) hl_null_access();
	r2 = true;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	r3 = r0->btn_selected;
	if( r3 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	r3 = r0->btn_over;
	if( r3 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	r5 = r0->onClick;
	if( r5 == NULL ) hl_null_access();
	r5->hasValue ? ((void (*)(vdynamic*))r5->fun)((vdynamic*)r5->value) : ((void (*)(void))r5->fun)();
	return;
}

void components_ui_UIButton_new__$5(components__ui__UIButton r0,hxd__Event r1) {
	bool r2;
	h2d__Bitmap r3;
	if( r0 == NULL ) hl_null_access();
	r3 = r0->btn_up;
	if( r3 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	r3 = r0->btn_down;
	if( r3 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	r3 = r0->btn_selected;
	if( r3 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	r3 = r0->btn_over;
	if( r3 == NULL ) hl_null_access();
	r2 = true;
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r2);
	return;
}

void components_ui_UIButton_new__$6(hxd__Event r0) {
	return;
}

void components_ui_UIButton_new__$1() {
	return;
}

bool components_ui_UIButton_set_selected(components__ui__UIButton r0,bool r1) {
	bool r2;
	h2d__Bitmap r3;
	r3 = r0->btn_selected;
	if( r3 == NULL ) hl_null_access();
	r2 = h2d_Object_set_visible(((h2d__Object)r3),r1);
	r0->selected = r1;
	return r1;
}

void components_ui_UIButton_new(components__ui__UIButton r0,venum* r1) {
	String r15;
	vvirtual *r22;
	hxd__res__Resource r14;
	bool r2;
	h2d__Object r5;
	h2d__Tile r7;
	hxd__res__Loader r13;
	hxd__res__$Image r16;
	double r19, r20;
	h2d__Bitmap r6, r18;
	vclosure *r3, *r23;
	h2d__Interactive r21;
	hxd__res__Image r17;
	vdynamic *r10, *r11, *r12;
	int r8, r9;
	static vclosure cl$0 = { &t$fun_7b48b4f, components_ui_UIButton_new__$1, 0 };
	static vclosure cl$1 = { &t$fun_b4832bf, components_ui_UIButton_new__$6, 0 };
	r2 = false;
	r0->selected = r2;
	r3 = &cl$0;
	r0->onClick = r3;
	r5 = NULL;
	h2d_Object_new(((h2d__Object)r0),r5);
	r6 = (h2d__Bitmap)hl_alloc_obj(&t$h2d_Bitmap);
	r8 = 16777215;
	r9 = 30;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r9;
	r9 = 30;
	r11 = hl_alloc_dynamic(&t$_i32);
	r11->v.i = r9;
	r12 = NULL;
	r7 = h2d_Tile_fromColor(r8,r10,r11,r12);
	h2d_Bitmap_new(r6,r7,((h2d__Object)r0));
	r0->btn_up = r6;
	r6 = (h2d__Bitmap)hl_alloc_obj(&t$h2d_Bitmap);
	r8 = 14540253;
	r9 = 30;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r9;
	r9 = 30;
	r11 = hl_alloc_dynamic(&t$_i32);
	r11->v.i = r9;
	r12 = NULL;
	r7 = h2d_Tile_fromColor(r8,r10,r11,r12);
	h2d_Bitmap_new(r6,r7,((h2d__Object)r0));
	r0->btn_over = r6;
	r6 = (h2d__Bitmap)hl_alloc_obj(&t$h2d_Bitmap);
	r8 = 12303291;
	r9 = 30;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r9;
	r9 = 30;
	r11 = hl_alloc_dynamic(&t$_i32);
	r11->v.i = r9;
	r12 = NULL;
	r7 = h2d_Tile_fromColor(r8,r10,r11,r12);
	h2d_Bitmap_new(r6,r7,((h2d__Object)r0));
	r0->btn_down = r6;
	r6 = (h2d__Bitmap)hl_alloc_obj(&t$h2d_Bitmap);
	r8 = 52479;
	r9 = 30;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r9;
	r9 = 30;
	r11 = hl_alloc_dynamic(&t$_i32);
	r11->v.i = r9;
	r12 = NULL;
	r7 = h2d_Tile_fromColor(r8,r10,r11,r12);
	h2d_Bitmap_new(r6,r7,((h2d__Object)r0));
	r0->btn_selected = r6;
	r6 = r0->btn_selected;
	if( r6 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r6),r2);
	if( r1 == NULL ) hl_null_access();
	r8 = HL__ENUM_INDEX__(r1);
	switch(r8) {
		default:
			goto label$7800334_8_89;
		case 0:
			r13 = hxd_Res_get_loader();
			r6 = (h2d__Bitmap)hl_alloc_obj(&t$h2d_Bitmap);
			if( r13 == NULL ) hl_null_access();
			r15 = (String)s$icon_pencil_png;
			r16 = (hxd__res__$Image)g$_hxd_res_Image;
			r14 = hxd_res_Loader_loadCache(r13,r15,((hl__Class)r16));
			r17 = (hxd__res__Image)r14;
			if( r17 == NULL ) hl_null_access();
			r7 = hxd_res_Image_toTile(r17);
			h2d_Bitmap_new(r6,r7,((h2d__Object)r0));
			r0->btn_icon = r6;
			goto label$7800334_8_89;
		case 1:
			r13 = hxd_Res_get_loader();
			r6 = (h2d__Bitmap)hl_alloc_obj(&t$h2d_Bitmap);
			if( r13 == NULL ) hl_null_access();
			r15 = (String)s$icon_line_png;
			r16 = (hxd__res__$Image)g$_hxd_res_Image;
			r14 = hxd_res_Loader_loadCache(r13,r15,((hl__Class)r16));
			r17 = (hxd__res__Image)r14;
			if( r17 == NULL ) hl_null_access();
			r7 = hxd_res_Image_toTile(r17);
			h2d_Bitmap_new(r6,r7,((h2d__Object)r0));
			r0->btn_icon = r6;
			goto label$7800334_8_89;
		case 2:
			r13 = hxd_Res_get_loader();
			r6 = (h2d__Bitmap)hl_alloc_obj(&t$h2d_Bitmap);
			if( r13 == NULL ) hl_null_access();
			r15 = (String)s$icon_eraser_png;
			r16 = (hxd__res__$Image)g$_hxd_res_Image;
			r14 = hxd_res_Loader_loadCache(r13,r15,((hl__Class)r16));
			r17 = (hxd__res__Image)r14;
			if( r17 == NULL ) hl_null_access();
			r7 = hxd_res_Image_toTile(r17);
			h2d_Bitmap_new(r6,r7,((h2d__Object)r0));
			r0->btn_icon = r6;
	}
	label$7800334_8_89:
	r6 = r0->btn_over;
	if( r6 == NULL ) hl_null_access();
	r18 = r0->btn_down;
	if( r18 == NULL ) hl_null_access();
	r2 = false;
	r2 = h2d_Object_set_visible(((h2d__Object)r18),r2);
	r2 = h2d_Object_set_visible(((h2d__Object)r6),r2);
	r6 = r0->btn_icon;
	if( !r6 ) goto label$7800334_8_112;
	r6 = r0->btn_icon;
	if( r6 == NULL ) hl_null_access();
	r2 = true;
	r6->posChanged = r2;
	r19 = r6->scaleX;
	r20 = 0.10000000000000001;
	r19 = r19 * r20;
	r6->scaleX = r19;
	r2 = true;
	r6->posChanged = r2;
	r19 = r6->scaleY;
	r20 = 0.10000000000000001;
	r19 = r19 * r20;
	r6->scaleY = r19;
	label$7800334_8_112:
	r21 = (h2d__Interactive)hl_alloc_obj(&t$h2d_Interactive);
	r19 = 30.;
	r20 = 30.;
	r22 = NULL;
	h2d_Interactive_new(r21,r19,r20,((h2d__Object)r0),r22);
	r0->clicky = r21;
	r21 = r0->clicky;
	if( r21 == NULL ) hl_null_access();
	r23 = hl_alloc_closure_ptr(&t$fun_697add5,components_ui_UIButton_new__$2,r0);
	r21->onOver = r23;
	r21 = r0->clicky;
	if( r21 == NULL ) hl_null_access();
	r23 = hl_alloc_closure_ptr(&t$fun_697add5,components_ui_UIButton_new__$3,r0);
	r21->onOut = r23;
	r21 = r0->clicky;
	if( r21 == NULL ) hl_null_access();
	r23 = hl_alloc_closure_ptr(&t$fun_697add5,components_ui_UIButton_new__$4,r0);
	r21->onPush = r23;
	r21 = r0->clicky;
	if( r21 == NULL ) hl_null_access();
	r23 = hl_alloc_closure_ptr(&t$fun_697add5,components_ui_UIButton_new__$5,r0);
	r21->onRelease = r23;
	r21 = r0->clicky;
	if( r21 == NULL ) hl_null_access();
	r23 = &cl$1;
	r21->onReleaseOutside = r23;
	return;
}

